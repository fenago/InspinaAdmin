((t,e)=>{"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("@svgdotjs/svg.js")):"function"==typeof define&&define.amd?define(["@svgdotjs/svg.js"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).ApexSankey=e(t.SVG)})(this,function(E){class z{constructor(t,e="apex"){this.canvas=t,this.prefix=e}getSvgString(){return this.canvas.svg().replace(/(<img [\w\W]+?)(>)/g,"$1 />").replace(/(<br)(>)/g,"$1 />").replace(/(<hr)(>)/g,"$1 />")}svgUrl(){var t=this.getSvgString(),t=new Blob([t],{type:"image/svg+xml;charset=utf-8"});return URL.createObjectURL(t)}triggerDownload(t,e){var r=document.createElement("a");r.href=t,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r)}exportToSVG(){this.triggerDownload(this.svgUrl(),`${this.prefix}-${(new Date).getTime()}.svg`)}}function $(t){return null==I?void 0:I[t]}I={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"};var I,N="object"==typeof global&&global&&global.Object===Object&&global,t="object"==typeof self&&self&&self.Object===Object&&self,t=N||t||Function("return this")(),e=t.Symbol,p=Array.isArray,r=Object.prototype,F=r.hasOwnProperty,T=r.toString,P=e?e.toStringTag:void 0,B=Object.prototype.toString,D="[object Null]",U="[object Undefined]",W=e?e.toStringTag:void 0;function _(t){{if(null==t)return void 0===t?U:D;if(W&&W in Object(t)){var e=t,r=F.call(e,P),n=e[P];try{var o=!(e[P]=void 0)}catch(t){}var i=T.call(e);return o&&(r?e[P]=n:delete e[P]),i}return B.call(t)}}function w(t){return null!=t&&"object"==typeof t}var V="[object Symbol]";function R(t){return"symbol"==typeof t||w(t)&&_(t)==V}var q=1/0,r=e?e.prototype:void 0,X=r?r.toString:void 0;function J(t){var e;return"string"==typeof t?t:p(t)?((t,e)=>{for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o})(t,J)+"":R(t)?X?X.call(t):"":"0"==(e=t+"")&&1/t==-q?"-0":e}function K(t){return null==t?"":J(t)}var Q=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,tt=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g"),et=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,r="\\ud800-\\udfff",n="\\u2700-\\u27bf",o="a-z\\xdf-\\xf6\\xf8-\\xff",i="A-Z\\xc0-\\xd6\\xd8-\\xde",u="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",a="["+u+"]",nt="\\d+",s="["+n+"]",c="["+o+"]",u="[^"+r+u+nt+n+o+i+"]",n="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",i="["+i+"]",ot="(?:"+c+"|"+u+")",u="(?:"+i+"|"+u+")",f="(?:['’](?:d|ll|m|re|s|t|ve))?",it="(?:['’](?:D|LL|M|RE|S|T|VE))?",l="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",ut="[\\ufe0e\\ufe0f]?",r=ut+l+"(?:\\u200d(?:"+["[^"+r+"]",n,o].join("|")+")"+ut+l+")*",ut="(?:"+[s,n,o].join("|")+")"+r,at=RegExp([i+"?"+c+"+"+f+"(?="+[a,i,"$"].join("|")+")",u+"+"+it+"(?="+[a,i+ot,"$"].join("|")+")",i+"?"+ot+"+"+f,i+"+"+it,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",nt,ut].join("|"),"g");function st(t){t=((t=K(t=t))&&t.replace(Q,$).replace(tt,"")).replace(ft,""),t=K(t);for(var e,r=void 0===e?rt.test(t)?t.match(at)||[]:t.match(et)||[]:t.match(e)||[],n=ct,o="",i=-1,u=null==r?0:r.length;++i<u;)o=n(o,r[i],i,r);return o}var ct,ft=RegExp("['’]","g");ct=function(t,e,r){return t+(r?"-":"")+e.toLowerCase()};let lt=(t="",e,r="")=>{t=document.getElementById(t);e?null!=t&&t.setAttribute("style",e):null!=t&&t.removeAttribute("style"),(null==t?void 0:t.innerHTML.replaceAll("'",'"'))!==r.replaceAll("'",'"')&&t&&(t.innerHTML=r)},dt=(t={})=>{var e,r=[];for(e in t){var n=`${st(e)}: ${t[e]};`;r.push(n)}return r.join(" ")};function ht(t,e,r,n){var o=new E.G;return o.attr({"data-parent":n,"data-self":r,transform:void 0!==t&&void 0!==e?`translate(${t}, ${e})`:void 0}),o}function pt(){}let vt={export:"data:image/svg+xml,%3csvg%20fill='%23000000'%20width='20px'%20height='20px'%20viewBox='0%200%2024%2024'%20id='export-2'%20xmlns='http://www.w3.org/2000/svg'%20class='icon%20line'%3e%3cpolyline%20id='primary'%20points='15%203%2021%203%2021%209'%20style='fill:%20none;%20stroke:%20rgb(0,%200,%200);%20stroke-linecap:%20round;%20stroke-linejoin:%20round;%20stroke-width:%201.5;'%3e%3c/polyline%3e%3cpath%20id='primary-2'%20data-name='primary'%20d='M21,13v7a1,1,0,0,1-1,1H4a1,1,0,0,1-1-1V4A1,1,0,0,1,4,3h7'%20style='fill:%20none;%20stroke:%20rgb(0,%200,%200);%20stroke-linecap:%20round;%20stroke-linejoin:%20round;%20stroke-width:%201.5;'%3e%3c/path%3e%3cline%20id='primary-3'%20data-name='primary'%20x1='11'%20y1='13'%20x2='21'%20y2='3'%20style='fill:%20none;%20stroke:%20rgb(0,%200,%200);%20stroke-linecap:%20round;%20stroke-linejoin:%20round;%20stroke-width:%201.5;'%3e%3c/line%3e%3c/svg%3e","fit-screen":"data:image/svg+xml,%3csvg%20width='20px'%20height='20px'%20viewBox='0%200%2032%2032'%20id='icon'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpolygon%20points='8%202%202%202%202%208%204%208%204%204%208%204%208%202'/%3e%3cpolygon%20points='24%202%2030%202%2030%208%2028%208%2028%204%2024%204%2024%202'/%3e%3cpolygon%20points='8%2030%202%2030%202%2024%204%2024%204%2028%208%2028%208%2030'/%3e%3cpolygon%20points='24%2030%2030%2030%2030%2024%2028%2024%2028%2028%2024%2028%2024%2030'/%3e%3cpath%20d='M24,24H8a2.0023,2.0023,0,0,1-2-2V10A2.0023,2.0023,0,0,1,8,8H24a2.0023,2.0023,0,0,1,2,2V22A2.0023,2.0023,0,0,1,24,24ZM8,10V22H24V10Z'/%3e%3crect%20fill='none'%20width='32'%20height='32'/%3e%3c/svg%3e","zoom-in":"data:image/svg+xml,%3csvg%20width='20px'%20height='20px'%20viewBox='0%200%2032%2032'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20xmlns:sketch='http://www.bohemiancoding.com/sketch/ns'%3e%3cg%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%3e%3cg%20transform='translate(-308.000000,%20-1139.000000)'%20fill='%23000000'%3e%3cpath%20d='M321.46,1163.45%20C315.17,1163.45%20310.07,1158.44%20310.07,1152.25%20C310.07,1146.06%20315.17,1141.04%20321.46,1141.04%20C327.75,1141.04%20332.85,1146.06%20332.85,1152.25%20C332.85,1158.44%20327.75,1163.45%20321.46,1163.45%20L321.46,1163.45%20Z%20M339.688,1169.25%20L331.429,1161.12%20C333.592,1158.77%20334.92,1155.67%20334.92,1152.25%20C334.92,1144.93%20328.894,1139%20321.46,1139%20C314.026,1139%20308,1144.93%20308,1152.25%20C308,1159.56%20314.026,1165.49%20321.46,1165.49%20C324.672,1165.49%20327.618,1164.38%20329.932,1162.53%20L338.225,1170.69%20C338.629,1171.09%20339.284,1171.09%20339.688,1170.69%20C340.093,1170.3%20340.093,1169.65%20339.688,1169.25%20L339.688,1169.25%20Z%20M326.519,1151.41%20L322.522,1151.41%20L322.522,1147.41%20C322.522,1146.85%20322.075,1146.41%20321.523,1146.41%20C320.972,1146.41%20320.524,1146.85%20320.524,1147.41%20L320.524,1151.41%20L316.529,1151.41%20C315.978,1151.41%20315.53,1151.59%20315.53,1152.14%20C315.53,1152.7%20315.978,1153.41%20316.529,1153.41%20L320.524,1153.41%20L320.524,1157.41%20C320.524,1157.97%20320.972,1158.41%20321.523,1158.41%20C322.075,1158.41%20322.522,1157.97%20322.522,1157.41%20L322.522,1153.41%20L326.519,1153.41%20C327.07,1153.41%20327.518,1152.96%20327.518,1152.41%20C327.518,1151.86%20327.07,1151.41%20326.519,1151.41%20L326.519,1151.41%20Z'%20/%3e%3c/g%3e%3c/g%3e%3c/svg%3e","zoom-out":"data:image/svg+xml,%3csvg%20width='20px'%20height='20px'%20viewBox='0%200%2032%2032'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cg%20stroke='none'%20stroke-width='1'%20fill='none'%20fill-rule='evenodd'%20%3e%3cg%20transform='translate(-360.000000,%20-1139.000000)'%20fill='%23000000'%3e%3cpath%20d='M373.46,1163.45%20C367.17,1163.45%20362.071,1158.44%20362.071,1152.25%20C362.071,1146.06%20367.17,1141.04%20373.46,1141.04%20C379.75,1141.04%20384.85,1146.06%20384.85,1152.25%20C384.85,1158.44%20379.75,1163.45%20373.46,1163.45%20L373.46,1163.45%20Z%20M391.688,1169.25%20L383.429,1161.12%20C385.592,1158.77%20386.92,1155.67%20386.92,1152.25%20C386.92,1144.93%20380.894,1139%20373.46,1139%20C366.026,1139%20360,1144.93%20360,1152.25%20C360,1159.56%20366.026,1165.49%20373.46,1165.49%20C376.672,1165.49%20379.618,1164.38%20381.932,1162.53%20L390.225,1170.69%20C390.629,1171.09%20391.284,1171.09%20391.688,1170.69%20C392.093,1170.3%20392.093,1169.65%20391.688,1169.25%20L391.688,1169.25%20Z%20M378.689,1151.41%20L368.643,1151.41%20C368.102,1151.41%20367.663,1151.84%20367.663,1152.37%20C367.663,1152.9%20368.102,1153.33%20368.643,1153.33%20L378.689,1153.33%20C379.23,1153.33%20379.669,1152.9%20379.669,1152.37%20C379.669,1151.84%20379.23,1151.41%20378.689,1151.41%20L378.689,1151.41%20Z'%20/%3e%3c/g%3e%3c/g%3e%3c/svg%3e"};class gt{constructor(t,e,r="apex"){this.element=t,this.canvas=e,this.prefix=r,this.export=new z(e,r)}createToolbarItem(t,e){var r=document.createElement("div"),n=new Image,e=(n.src=e,r.id=t,r.append(n),dt({alignItems:"center",backgroundColor:"#FFFFFF",border:"1px solid #BCBCBC",cursor:"pointer",display:"flex",height:"30px",justifyContent:"center",width:"30px"}));return r.setAttribute("style",e),r}render({enableExport:t=!1,enableFitscreen:e=!1,enableZoom:r=!1,onFitscreen:n=pt,onZoom:o=pt}){var i=document.createElement("div"),u=(i.id="toolbar",dt({display:"flex",gap:"5px",position:"absolute",right:"10px",top:"10px"}));if(i.setAttribute("style",u),t){let t=this.createToolbarItem("export",vt.export);t.addEventListener("click",()=>{this.export.exportToSVG()}),i.append(t)}if(r){let t=this.createToolbarItem("zoom-in",vt["zoom-in"]),e=this.createToolbarItem("zoom-out",vt["zoom-out"]);t.addEventListener("click",()=>{o(.1)}),e.addEventListener("click",()=>{o(-.1)}),i.append(t,e)}if(e){let t=this.createToolbarItem("fit-screen",vt["fit-screen"]);t.addEventListener("click",()=>{n()}),i.append(t)}null!=(u=this.element)&&u.append(i)}}function yt(t,e){var r;return null===e.w||null===e.v?0:e.w===e.v?Math.PI/2:(r=t.node(e.v),t=t.node(e.w),Math.atan2(t.y-r.y,t.x-r.x))}function bt(t,e){return t===e||t!=t&&e!=e}function _t(t,e){for(var r=t.length;r--;)if(bt(t[r][0],e))return r;return-1}var wt=Array.prototype.splice;function d(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function mt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}d.prototype.clear=function(){this.__data__=[],this.size=0},d.prototype.delete=function(t){var e=this.__data__,t=_t(e,t);return!(t<0||(t==e.length-1?e.pop():wt.call(e,t,1),--this.size,0))},d.prototype.get=function(t){var e=this.__data__,t=_t(e,t);return t<0?void 0:e[t][1]},d.prototype.has=function(t){return-1<_t(this.__data__,t)},d.prototype.set=function(t,e){var r=this.__data__,n=_t(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};var jt="[object AsyncFunction]",xt="[object Function]",Et="[object GeneratorFunction]",Ot="[object Proxy]";function kt(t){if(mt(t))return(t=_(t))==xt||t==Et||t==jt||t==Ot}var l=t["__core-js_shared__"],At=(s=/[^.]+$/.exec(l&&l.keys&&l.keys.IE_PROTO||""))?"Symbol(src)_1."+s:"",Ct=Function.prototype.toString;function h(t){if(null!=t){try{return Ct.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var Mt=/^\[object .+?Constructor\]$/,n=Object.prototype,o=Function.prototype.toString,r=n.hasOwnProperty,St=RegExp("^"+o.call(r).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Lt(t,e){t=null==t?void 0:t[e];return!mt(e=t)||At&&At in e||!(kt(e)?St:Mt).test(h(e))?void 0:t}var zt=Lt(t,"Map"),$t=Lt(Object,"create"),It=Object.prototype.hasOwnProperty,Nt=Object.prototype.hasOwnProperty;function v(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Ft(t,e){var r,t=t.__data__;return("string"==(r=typeof e)||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e)?t["string"==typeof e?"string":"hash"]:t.map}function g(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function y(t){t=this.__data__=new d(t);this.size=t.size}function Tt(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new g;++e<r;)this.add(t[e])}v.prototype.clear=function(){this.__data__=$t?$t(null):{},this.size=0},v.prototype.delete=function(t){t=this.has(t)&&delete this.__data__[t];return this.size-=t?1:0,t},v.prototype.get=function(t){var e,r=this.__data__;return $t?"__lodash_hash_undefined__"===(e=r[t])?void 0:e:It.call(r,t)?r[t]:void 0},v.prototype.has=function(t){var e=this.__data__;return $t?void 0!==e[t]:Nt.call(e,t)},v.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=$t&&void 0===e?"__lodash_hash_undefined__":e,this},g.prototype.clear=function(){this.size=0,this.__data__={hash:new v,map:new(zt||d),string:new v}},g.prototype.delete=function(t){t=Ft(this,t).delete(t);return this.size-=t?1:0,t},g.prototype.get=function(t){return Ft(this,t).get(t)},g.prototype.has=function(t){return Ft(this,t).has(t)},g.prototype.set=function(t,e){var r=Ft(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},y.prototype.clear=function(){this.__data__=new d,this.size=0},y.prototype.delete=function(t){var e=this.__data__,t=e.delete(t);return this.size=e.size,t},y.prototype.get=function(t){return this.__data__.get(t)},y.prototype.has=function(t){return this.__data__.has(t)},y.prototype.set=function(t,e){var r=this.__data__;if(r instanceof d){var n=r.__data__;if(!zt||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new g(n)}return r.set(t,e),this.size=r.size,this},Tt.prototype.add=Tt.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Tt.prototype.has=function(t){return this.__data__.has(t)};var Pt=1,Bt=2;function Dt(t,e,r,n,o,i){var u=r&Pt,a=t.length,s=e.length;if(a!=s&&!(u&&a<s))return!1;var s=i.get(t),c=i.get(e);if(s&&c)return s==e&&c==t;var f=-1,l=!0,d=r&Bt?new Tt:void 0;for(i.set(t,e),i.set(e,t);++f<a;){var h,p=t[f],v=e[f];if(void 0!==(h=n?u?n(v,p,f,e,t,i):n(p,v,f,t,e,i):h)){if(h)continue;l=!1;break}if(d){if(!((t,e)=>{for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return 1})(e,function(t,e){return!d.has(e)&&(p===t||o(p,t,r,n,i))&&d.push(e)})){l=!1;break}}else if(p!==v&&!o(p,v,r,n,i)){l=!1;break}}return i.delete(t),i.delete(e),l}var Ut=t.Uint8Array;function Wt(t){var r=-1,n=Array(t.size);return t.forEach(function(t,e){n[++r]=[e,t]}),n}function Vt(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var Rt=1,Gt=2,Zt="[object Boolean]",Yt="[object Date]",Ht="[object Error]",qt="[object Map]",Xt="[object Number]",Jt="[object RegExp]",Kt="[object Set]",Qt="[object String]",te="[object Symbol]",ee="[object ArrayBuffer]",re="[object DataView]",c=e?e.prototype:void 0,ne=c?c.valueOf:void 0,oe=Object.prototype.propertyIsEnumerable,ie=Object.getOwnPropertySymbols,ue=ie?function(t){if(null==t)return[];t=Object(t);for(var e=ie(t),r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var u=e[r];oe.call(t,u)&&(i[o++]=u)}return i}:function(){return[]};function ae(t){return w(t)&&"[object Arguments]"==_(t)}var u=Object.prototype,se=u.hasOwnProperty,ce=u.propertyIsEnumerable,fe=ae(function(){return arguments}())?ae:function(t){return w(t)&&se.call(t,"callee")&&!ce.call(t,"callee")},a="object"==typeof exports&&exports&&!exports.nodeType&&exports,ot=a&&"object"==typeof module&&module&&!module.nodeType&&module,f=ot&&ot.exports===a?t.Buffer:void 0,le=(f?f.isBuffer:void 0)||function(){return!1},de=9007199254740991,he=/^(?:0|[1-9]\d*)$/;function pe(t,e){var r=typeof t;return!!(e=null==e?de:e)&&("number"==r||"symbol"!=r&&he.test(t))&&-1<t&&t%1==0&&t<e}var ve=9007199254740991;function ge(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=ve}var b={};b["[object Float32Array]"]=b["[object Float64Array]"]=b["[object Int8Array]"]=b["[object Int16Array]"]=b["[object Int32Array]"]=b["[object Uint8Array]"]=b["[object Uint8ClampedArray]"]=b["[object Uint16Array]"]=b["[object Uint32Array]"]=!0,b["[object Arguments]"]=b["[object Array]"]=b["[object ArrayBuffer]"]=b["[object Boolean]"]=b["[object DataView]"]=b["[object Date]"]=b["[object Error]"]=b["[object Function]"]=b["[object Map]"]=b["[object Number]"]=b["[object Object]"]=b["[object RegExp]"]=b["[object Set]"]=b["[object String]"]=b["[object WeakMap]"]=!1;var ye,i="object"==typeof exports&&exports&&!exports.nodeType&&exports,be=i&&"object"==typeof module&&module&&!module.nodeType&&module,_e=be&&be.exports===i&&N.process,it=(()=>{try{return be&&be.require&&be.require("util").types||_e&&_e.binding&&_e.binding("util")}catch(t){}})(),nt=it&&it.isTypedArray,we=nt?(ye=nt,function(t){return ye(t)}):function(t){return w(t)&&ge(t.length)&&!!b[_(t)]},me=Object.prototype.hasOwnProperty;function je(t){var e,r=p(t),n=!r&&fe(t),o=!r&&!n&&le(t),i=!r&&!n&&!o&&we(t),u=r||n||o||i,a=u?((t,e)=>{for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n})(t.length,String):[],s=a.length;for(e in t)!me.call(t,e)||u&&("length"==e||o&&("offset"==e||"parent"==e)||i&&("buffer"==e||"byteLength"==e||"byteOffset"==e)||pe(e,s))||a.push(e);return a}var xe,Ee,Oe=Object.prototype,ke=(xe=Object.keys,function(t){return xe(Ee(t))}),Ae=(Ee=Object).prototype.hasOwnProperty;function Ce(t){return(null!=t&&ge(t.length)&&!kt(t)?je:t=>{if(t!==("function"==typeof(e=t&&t.constructor)&&e.prototype||Oe))return ke(t);var e,r,n=[];for(r in Object(t))Ae.call(t,r)&&"constructor"!=r&&n.push(r);return n})(t)}function Me(t){var e=ue,r=Ce(t);if(p(t))return r;for(var n=r,o=e(t),i=-1,u=o.length,a=n.length;++i<u;)n[a+i]=o[i];return n}var Se=1,Le=Object.prototype.hasOwnProperty,ut=Lt(t,"DataView"),l=Lt(t,"Promise"),s=Lt(t,"Set"),n=Lt(t,"WeakMap"),ze="[object Map]",$e="[object Promise]",Ie="[object Set]",Ne="[object WeakMap]",Fe="[object DataView]",Te=h(ut),Pe=h(zt),Be=h(l),De=h(s),Ue=h(n),m=_,We=((ut&&m(new ut(new ArrayBuffer(1)))!=Fe||zt&&m(new zt)!=ze||l&&m(l.resolve())!=$e||s&&m(new s)!=Ie||n&&m(new n)!=Ne)&&(m=function(t){var e=_(t),t="[object Object]"==e?t.constructor:void 0,t=t?h(t):"";if(t)switch(t){case Te:return Fe;case Pe:return ze;case Be:return $e;case De:return Ie;case Ue:return Ne}return e}),1),Ve="[object Arguments]",Re="[object Array]",Ge="[object Object]",Ze=Object.prototype.hasOwnProperty;function Ye(t,e,r,n,o,i){var u=p(t),a=p(e),s=u?Re:m(t),a=a?Re:m(e),c=(s=s==Ve?Ge:s)==Ge,f=(a=a==Ve?Ge:a)==Ge,a=s==a;if(a&&le(t)){if(!le(e))return!1;c=!(u=!0)}if(a&&!c)return i=i||new y,(u||we(t)?Dt:(t,e,r,n,o,i)=>{switch(s){case re:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ee:return!(t.byteLength!=e.byteLength||!o(new Ut(t),new Ut(e)));case Zt:case Yt:case Xt:return bt(+t,+e);case Ht:return t.name==e.name&&t.message==e.message;case Jt:case Qt:return t==e+"";case qt:var u=Wt;case Kt:u=u||Vt;if(t.size!=e.size&&!(r&Rt))return!1;var a=i.get(t);if(a)return a==e;r|=Gt,i.set(t,e);a=Dt(u(t),u(e),r,n,o,i);return i.delete(t),a;case te:if(ne)return ne.call(t)==ne.call(e)}return!1})(t,e,r,n,o,i);if(!(r&We)){u=c&&Ze.call(t,"__wrapped__"),c=f&&Ze.call(e,"__wrapped__");if(u||c)return o(u?t.value():t,c?e.value():e,r,n,i=i||new y)}return!!a&&((t,e,r,n,o,i)=>{var u=r&Se,a=Me(t),s=a.length;if(s!=Me(e).length&&!u)return!1;for(var c=s;c--;){var f=a[c];if(!(u?f in e:Le.call(e,f)))return!1}var l=i.get(t),d=i.get(e);if(l&&d)return l==e&&d==t;var h=!0;i.set(t,e),i.set(e,t);for(var p=u;++c<s;){var v,g=t[f=a[c]],y=e[f];if(!(void 0===(v=n?u?n(y,g,f,e,t,i):n(g,y,f,t,e,i):v)?g===y||o(g,y,r,n,i):v)){h=!1;break}p=p||"constructor"==f}return h&&!p&&(l=t.constructor)!=(d=e.constructor)&&"constructor"in t&&"constructor"in e&&!("function"==typeof l&&l instanceof l&&"function"==typeof d&&d instanceof d)&&(h=!1),i.delete(t),i.delete(e),h})(t,e,r,n,o,i=i||new y)}function He(t,e,r,n,o){return t===e||(null==t||null==e||!w(t)&&!w(e)?t!=t&&e!=e:Ye(t,e,r,n,He,o))}var qe=1,Xe=2;function Je(t){return t==t&&!mt(t)}function Ke(e,r){return function(t){return null!=t&&t[e]===r&&(void 0!==r||e in Object(t))}}function Qe(t){var e=(t=>{for(var e=Ce(t),r=e.length;r--;){var n=e[r],o=t[n];e[r]=[n,o,Je(o)]}return e})(t);return 1==e.length&&e[0][2]?Ke(e[0][0],e[0][1]):function(s){return s===t||((t,e)=>{var r=e.length,n=r;if(null==s)return!n;for(t=Object(s);r--;){var o=e[r];if(o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++r<n;){var i=(o=e[r])[0],u=t[i],a=o[1];if(o[2]){if(void 0===u&&!(i in t))return!1}else{i=new y;if(!He(a,u,qe|Xe,void 0,i))return!1}}return!0})(0,e)}}var tr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,er=/^\w*$/;function rr(t,e){var r;if(!p(t))return"number"==(r=typeof t)||"symbol"==r||"boolean"==r||null==t||R(t)||er.test(t)||!tr.test(t)||null!=e&&t in Object(e)}function nr(n,o){if("function"!=typeof n||null!=o&&"function"!=typeof o)throw new TypeError("Expected a function");function i(){var t=arguments,e=o?o.apply(this,t):t[0],r=i.cache;return r.has(e)?r.get(e):(t=n.apply(this,t),i.cache=r.set(e,t)||r,t)}return i.cache=new(nr.Cache||g),i}nr.Cache=g;var or,ir=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ur=/\\(\\)?/g,ar=(or=(o=nr(function(t){var o=[];return 46===t.charCodeAt(0)&&o.push(""),t.replace(ir,function(t,e,r,n){o.push(r?n.replace(ur,"$1"):e||t)}),o},function(t){return 500===or.size&&or.clear(),t})).cache,o);function sr(t,e){return p(t)?t:rr(t,e)?[t]:ar(K(t))}var cr=1/0;function fr(t){var e;return"string"==typeof t||R(t)?t:"0"==(e=t+"")&&1/t==-cr?"-0":e}function lr(t,e){for(var r=0,n=(e=sr(e,t)).length;null!=t&&r<n;)t=t[fr(e[r++])];return r&&r==n?t:void 0}function dr(t,e){return null!=t&&e in Object(t)}function hr(t,a){return null!=t&&((t,e,r)=>{for(var n=-1,o=(e=sr(a,t)).length,i=!1;++n<o;){var u=fr(e[n]);if(!(i=null!=t&&r(t,u)))break;t=t[u]}return i||++n!=o?i:!!(o=null==t?0:t.length)&&ge(o)&&pe(u,o)&&(p(t)||fe(t))})(t,0,dr)}var pr=1,vr=2;function gr(r,n){return rr(r)&&Je(n)?Ke(fr(r),n):function(t){var e=void 0===(e=null==t?void 0:lr(t,r))?void 0:e;return void 0===e&&e===n?hr(t,r):He(n,e,pr|vr)}}function yr(t){return t}function j(t,e){if(t&&t.length){for(var r,n=t,o="function"==typeof(t=e)?t:null==t?yr:"object"==typeof t?p(t)?gr(t[0],t[1]):Qe(t):rr(e=t)?(c=fr(e),function(t){return null==t?void 0:t[c]}):(s=e,function(t){return lr(t,s)}),i=-1,u=n.length;++i<u;){var a=o(n[i]);void 0!==a&&(r=void 0===r?a:r+a)}return r}return 0;var s,c}function br(n,o){let t=n.inEdges(o),e=n.outEdges(o),r=new Map;[...t,...e].forEach(t=>{r.has(t.name)||r.set(t.name,[]),r.get(t.name).push(t)});var i=new Map(Array.from(r.entries()).map(([t,e])=>{var r=j(e,t=>n.edge(t).value);return[t,j(e,t=>n.edge(t).value*(t=>{if(t.v===o)return n.node(t.w).y;if(t.w===o)return n.node(t.v).y;throw new Error})(t))/r]})),i=Array.from(i.keys());return i.sort(),i}function _r(i,u=!0){return function(t,e){var r=yt(i,t),n=yt(i,e),o=u?1:-1;return t.v===e.v&&t.w===e.w?"number"==typeof t.name&&"number"==typeof e.name?t.name-e.name:"string"==typeof t.name&&"string"==typeof e.name?t.name.localeCompare(e.name):0:Math.abs(r-n)<.001?t.v&&t.w&&e.v&&e.w?t.w===e.w?-1*(i.node(t.v).y-i.node(e.v).y):t.v===e.v?-1*(i.node(t.w).y-i.node(e.w).y):0:0:o*(r-n)}}function wr(i,u,a=!0){return function(t,e){var r,n,o;return t.name!==e.name?u.indexOf(t.name)-u.indexOf(e.name):(r=yt(i,t),n=yt(i,e),o=a?1:-1,Math.abs(r-n)<.001?t.v&&t.w&&e.v&&e.w?t.w===e.w?o*(0<r?-1:1)*(i.node(t.v).y-i.node(e.v).y):t.v===e.v?o*(0<r?-1:1)*(i.node(t.w).y-i.node(e.w).y):0:0:o*(r-n))}}function mr(o,i){if(0!==o.length){let e,r=0;for(let t=o.length-1;0<=t;--t)e=o[t].dy/2,o[t][i]-e<r&&(o[t][i]=Math.min(o[t].Rmax,r+e)),r=o[t][i]+e;let n=o[0].Rmax+o[0].dy/2;for(let t=0;t<o.length;++t)e=o[t].dy/2,o[t][i]+e>n&&(o[t][i]=Math.max(e,n-e)),n=o[t][i]-e}}function jr(t){return function(r){var n,o,i;i=t,(o=r).nodes().forEach(t=>{let e=o.node(t),r=0,n=0;e.outgoing.forEach(t=>{t=o.edge(t);t.x0=e.x+i.nodeWidth/2,t.y0=e.y+r+t.dy/2,t.d0=e.direction||"r",r+=t.dy}),e.incoming.forEach(t=>{t=o.edge(t);t.x1=e.x-i.nodeWidth/2,t.y1=e.y+n+t.dy/2,t.d1=e.direction||"r",n+=t.dy})}),(n=r).nodes().forEach(t=>{var t=n.node(t),e=t.outgoing.map(t=>n.edge(t)),t=t.incoming.map(t=>n.edge(t));e.sort((t,e)=>t.y0-e.y0),t.sort((t,e)=>t.y1-e.y1),xr(e,"r0"),xr(t,"r1")});let u=[];return r.edges().forEach(t=>{var e=r.edge(t);e.id=t.v+`-${t.w}-`+t.name,u.push(e)}),u}}function xr(e,n){e.forEach(t=>{var e,r;t.Rmax=(e=t.x1-t.x0,r=t.y1-t.y0,t.d0!==t.d1?Math.abs(r)/2.1:0!=r?(e*e+r*r)/Math.abs(4*r):1/0),t[n]=Math.max(t.dy/2,t.d0===t.d1?.6*t.Rmax:5+t.dy/2)});let r=((e,r)=>{let n=null;for(let t=0;t<e.length;++t)if(r(e[t])){n=t;break}return n})(e,"r0"===n?t=>t.y1>t.y0:t=>t.y0>t.y1);if(null===r&&(r=e.length),mr(e.slice(r),n),0<r){var o=[];for(let t=r-1;0<=t;t--)o.push(e[t]);mr(o,n)}}function Er(n,o,i,e,u){if(0!==e.length){let t=e.map(t=>{var e=`__${o.v}_${o.w}_`+t;return n.setNode(e,{data:null,direction:u,dummy:!0,rank:t}),e}),r=[o.v,...t,o.w];r.forEach((t,e)=>{e+1<r.length&&n.setEdge(r[e],r[e+1],{data:n.edge(o).data,origEdge:o,origLabel:i,source:n.node(o.v),target:n.node(o.w),value:n.edge(o).value},o.name)}),n.removeEdge(o)}}function Or(u,a,s){{var c=u;let t,e,n=(e=a.length>s.length?(t=a,s):(t=s,a),[]),r=(t.forEach(r=>{e.forEach((t,e)=>{(c.hasEdge(r,t)||c.hasEdge(t,r))&&n.push(e)})}),1);for(;r<void 0;)r*=2;var f=2*r-1;--r;let o=new Array(f);for(let t=0;t<f;t++)o[t]=0;let i=0;return n.forEach(t=>{let e=t+r;for(o[e]++;0<e;)e%2&&(i+=o[e+1]),e=Math.floor((e-1)/2),o[e]++}),i}}var kr,Ar,Cr,Mr,Sr,Lr,zr,$r,Ir,Nr,Fr,Tr,Pr,Br,Dr,Ur,Wr,Vr,Rr,Gr,Zr,Yr,Hr,qr,Xr,Jr,Kr,Qr,tn,en,rn,nn,on,un,an,sn,cn,fn,ln,dn,hn,pn,vn,gn,yn,bn,_n,wn,mn,jn,xn,En,On,kn,An,Cn,Mn,Sn,Ln,zn,$n,In,Nn,Fn,Tn,Pn,Bn,Dn,Un,Wn,Vn,Rn,Gn,Zn,Yn,Hn,qn,Xn,Jn,Kn,Qn,to,eo,ro,no,oo,io,uo,ao,so,co,fo,lo,ho,po,vo,go,yo,bo,_o,wo,mo,jo,xo,Eo,Oo,ko,Ao,Co="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Mo(){return Mr?Cr:(Mr=1,Cr=function(t,e){return t===e||t!=t&&e!=e})}function So(){if(Lr)return Sr;Lr=1;var n=Mo();return Sr=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}}function Lo(){if(Ur)return Dr;Ur=1;var t=Ar?kr:(Ar=1,kr=function(){this.__data__=[],this.size=0}),e=(()=>{if($r)return zr;$r=1;var r=So(),n=Array.prototype.splice;return zr=function(t){var e=this.__data__,t=r(e,t);return!(t<0||(t==e.length-1?e.pop():n.call(e,t,1),--this.size,0))}})(),r=(()=>{if(Nr)return Ir;Nr=1;var r=So();return Ir=function(t){var e=this.__data__,t=r(e,t);return t<0?void 0:e[t][1]}})(),n=(()=>{if(Tr)return Fr;Tr=1;var e=So();return Fr=function(t){return-1<e(this.__data__,t)}})(),o=(()=>{if(Br)return Pr;Br=1;var o=So();return Pr=function(t,e){var r=this.__data__,n=o(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}})();function i(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=o,Dr=i}function zo(){if(Jr)return Xr;Jr=1;var t="object"==typeof Co&&Co&&Co.Object===Object&&Co;return Xr=t}function G(){if(Qr)return Kr;Qr=1;var t=zo(),e="object"==typeof self&&self&&self.Object===Object&&self,t=t||e||Function("return this")();return Kr=t}function $o(){if(en)return tn;en=1;var t=G().Symbol;return tn=t}function Io(){if(sn)return an;sn=1;var t=$o(),e=(()=>{if(nn)return rn;nn=1;var t=$o(),e=Object.prototype,i=e.hasOwnProperty,u=e.toString,a=t?t.toStringTag:void 0;return rn=function(t){var e=i.call(t,a),r=t[a];try{var n=!(t[a]=void 0)}catch(t){}var o=u.call(t);return n&&(e?t[a]=r:delete t[a]),o}})(),r=(()=>{if(un)return on;un=1;var e=Object.prototype.toString;return on=function(t){return e.call(t)}})(),n=t?t.toStringTag:void 0;return an=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":(n&&n in Object(t)?e:r)(t)}}function Z(){return fn?cn:(fn=1,cn=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)})}function No(){if(dn)return ln;dn=1;var e=Io(),r=Z();return ln=function(t){return!!r(t)&&("[object Function]"==(t=e(t))||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t)}}function Fo(){var e,t;return gn||(gn=1,t=(()=>{if(pn)return hn;pn=1;var t=G()["__core-js_shared__"];return hn=t})(),e=(t=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||""))?"Symbol(src)_1."+t:"",vn=function(t){return!!e&&e in t}),vn}function To(){var e;return bn||(bn=1,e=Function.prototype.toString,yn=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}),yn}function x(){var r,n;return En||(En=1,r=(()=>{if(wn)return _n;wn=1;var e=No(),r=Fo(),n=Z(),o=To(),i=/^\[object .+?Constructor\]$/,t=Function.prototype,u=Object.prototype,t=t.toString,u=u.hasOwnProperty,a=RegExp("^"+t.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return _n=function(t){return!(!n(t)||r(t))&&(e(t)?a:i).test(o(t))}})(),jn||(jn=1,mn=function(t,e){return null==t?void 0:t[e]}),n=mn,xn=function(t,e){t=n(t,e);return r(t)?t:void 0}),xn}function Po(){if(kn)return On;kn=1;var t=x()(G(),"Map");return On=t}function Bo(){if(Cn)return An;Cn=1;var t=x()(Object,"create");return An=t}function Do(){if(Dn)return Bn;Dn=1;var t=(()=>{if(Sn)return Mn;Sn=1;var t=Bo();return Mn=function(){this.__data__=t?t(null):{},this.size=0}})(),e=zn?Ln:(zn=1,Ln=function(t){t=this.has(t)&&delete this.__data__[t];return this.size-=t?1:0,t}),r=(()=>{if(In)return $n;In=1;var n=Bo(),o=Object.prototype.hasOwnProperty;return $n=function(t){var e,r=this.__data__;return n?"__lodash_hash_undefined__"===(e=r[t])?void 0:e:o.call(r,t)?r[t]:void 0}})(),n=(()=>{if(Fn)return Nn;Fn=1;var r=Bo(),n=Object.prototype.hasOwnProperty;return Nn=function(t){var e=this.__data__;return r?void 0!==e[t]:n.call(e,t)}})(),o=(()=>{if(Pn)return Tn;Pn=1;var n=Bo();return Tn=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}})();function i(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=o,Bn=i}function Uo(){if(Zn)return Gn;Zn=1;var r=Rn?Vn:(Rn=1,Vn=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t});return Gn=function(t,e){t=t.__data__;return r(e)?t["string"==typeof e?"string":"hash"]:t.map}}function Wo(){if(ro)return eo;ro=1;var t=(()=>{if(Wn)return Un;Wn=1;var t=Do(),e=Lo(),r=Po();return Un=function(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}})(),e=(()=>{if(Hn)return Yn;Hn=1;var e=Uo();return Yn=function(t){t=e(this,t).delete(t);return this.size-=t?1:0,t}})(),r=(()=>{if(Xn)return qn;Xn=1;var e=Uo();return qn=function(t){return e(this,t).get(t)}})(),n=(()=>{if(Kn)return Jn;Kn=1;var e=Uo();return Jn=function(t){return e(this,t).has(t)}})(),o=(()=>{if(to)return Qn;to=1;var o=Uo();return Qn=function(t,e){var r=o(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}})();function i(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=o,eo=i}function Vo(){if(uo)return io;uo=1;var e=Lo(),t=(()=>{if(Vr)return Wr;Vr=1;var t=Lo();return Wr=function(){this.__data__=new t,this.size=0}})(),r=Gr?Rr:(Gr=1,Rr=function(t){var e=this.__data__,t=e.delete(t);return this.size=e.size,t}),n=Yr?Zr:(Yr=1,Zr=function(t){return this.__data__.get(t)}),o=qr?Hr:(qr=1,Hr=function(t){return this.__data__.has(t)}),i=(()=>{if(oo)return no;oo=1;var o=Lo(),i=Po(),u=Wo();return no=function(t,e){var r=this.__data__;if(r instanceof o){var n=r.__data__;if(!i||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new u(n)}return r.set(t,e),this.size=r.size,this}})();function u(t){t=this.__data__=new e(t);this.size=t.size}return u.prototype.clear=t,u.prototype.delete=r,u.prototype.get=n,u.prototype.has=o,u.prototype.set=i,io=u}function Ro(){return so?ao:(so=1,ao=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t})}function Go(){if(fo)return co;fo=1;var e=x(),t=(()=>{try{var t=e(Object,"defineProperty");return t({},"",{}),t}catch(t){}})();return co=t}function Zo(){var n;return ho||(ho=1,n=Go(),lo=function(t,e,r){"__proto__"==e&&n?n(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}),lo}function Yo(){var o,i,u;return vo||(vo=1,o=Zo(),i=Mo(),u=Object.prototype.hasOwnProperty,po=function(t,e,r){var n=t[e];u.call(t,e)&&i(n,r)&&(void 0!==r||e in t)||o(t,e,r)}),po}function Ho(){var c,f;return yo||(yo=1,c=Yo(),f=Zo(),go=function(t,e,r,n){var o=!r;r=r||{};for(var i=-1,u=e.length;++i<u;){var a=e[i],s=n?n(r[a],t[a],a,r,t):void 0;void 0===s&&(s=t[a]),(o?f:c)(r,a,s)}return r}),go}function O(){return mo?wo:(mo=1,wo=function(t){return null!=t&&"object"==typeof t})}function qo(){if(Oo)return Eo;Oo=1;var t=(()=>{if(xo)return jo;xo=1;var e=Io(),r=O();return jo=function(t){return r(t)&&"[object Arguments]"==e(t)}})(),e=O(),r=Object.prototype,n=r.hasOwnProperty,o=r.propertyIsEnumerable,r=t(function(){return arguments}())?t:function(t){return e(t)&&n.call(t,"callee")&&!o.call(t,"callee")};return Eo=r}function Y(){if(Ao)return ko;Ao=1;var t=Array.isArray;return ko=t}var Xo,Jo,Ko,Qo,ti,ei,ri,ni,oi,ii,ui,ai={exports:{}};function si(){return Ko||(Ko=1,o=(t=ai).exports,e=G(),r=Jo?Xo:(Jo=1,Xo=function(){return!1}),o=((n=(n=(o=o&&!o.nodeType&&o)&&t&&!t.nodeType&&t)&&n.exports===o?e.Buffer:void 0)?n.isBuffer:void 0)||r,t.exports=o),ai.exports;var t,e,r,n,o}function ci(){if(ti)return Qo;ti=1;var n=/^(?:0|[1-9]\d*)$/;return Qo=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&-1<t&&t%1==0&&t<e}}function fi(){return ri?ei:(ri=1,ei=function(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=9007199254740991})}function li(){return ui||(ui=1,ii=function(e){return function(t){return e(t)}}),ii}ai.exports;var di,hi,pi,vi,gi,yi,bi,_i,wi,mi,ji,xi,Ei,Oi,ki,Ai,Ci,Mi,Si,Li,zi,$i,Ii,Ni,Fi,Ti,Pi,Bi={exports:{}};function Di(){return di||(di=1,o=(t=Bi).exports,e=zo(),o=o&&!o.nodeType&&o,r=o&&t&&!t.nodeType&&t,n=r&&r.exports===o&&e.process,o=(()=>{try{return r&&r.require&&r.require("util").types||n&&n.binding&&n.binding("util")}catch(t){}})(),t.exports=o),Bi.exports;var t,e,r,n,o}function Ui(){if(pi)return hi;pi=1;var t=(()=>{if(oi)return ni;oi=1;var e=Io(),r=fi(),n=O(),o={};return o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,ni=function(t){return n(t)&&r(t.length)&&!!o[e(t)]}})(),e=li(),r=Di(),r=r&&r.isTypedArray,e=r?e(r):t;return hi=e}function Wi(){if(gi)return vi;gi=1;var f=_o?bo:(_o=1,bo=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}),l=qo(),d=Y(),h=si(),p=ci(),v=Ui(),g=Object.prototype.hasOwnProperty;return vi=function(t,e){var r,n=d(t),o=!n&&l(t),i=!n&&!o&&h(t),u=!n&&!o&&!i&&v(t),a=n||o||i||u,s=a?f(t.length,String):[],c=s.length;for(r in t)!e&&!g.call(t,r)||a&&("length"==r||i&&("offset"==r||"parent"==r)||u&&("buffer"==r||"byteLength"==r||"byteOffset"==r)||p(r,c))||s.push(r);return s}}function Vi(){if(bi)return yi;bi=1;var r=Object.prototype;return yi=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}}function Ri(){return wi||(wi=1,_i=function(e,r){return function(t){return e(r(t))}}),_i}function Gi(){var n,o,i;return Ei||(Ei=1,n=Vi(),o=(()=>{if(ji)return mi;ji=1;var t=Ri()(Object.keys,Object);return mi=t})(),i=Object.prototype.hasOwnProperty,xi=function(t){if(!n(t))return o(t);var e,r=[];for(e in Object(t))i.call(t,e)&&"constructor"!=e&&r.push(e);return r}),xi}function k(){if(ki)return Oi;ki=1;var e=No(),r=fi();return Oi=function(t){return null!=t&&r(t.length)&&!e(t)}}function H(){var e,r,n;return Ci||(Ci=1,e=Wi(),r=Gi(),n=k(),Ai=function(t){return(n(t)?e:r)(t)}),Ai}function Zi(){var e,r,n,o,i,u,a;return Fi||(Fi=1,e=Wi(),Ii||(Ii=1,o=Z(),i=Vi(),zi||(zi=1,Li=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}),u=Li,a=Object.prototype.hasOwnProperty,$i=function(t){if(!o(t))return u(t);var e,r=i(t),n=[];for(e in t)("constructor"!=e||!r&&a.call(t,e))&&n.push(e);return n}),r=$i,n=k(),Ni=function(t){return n(t)?e(t,!0):r(t)}),Ni}Bi.exports;var Yi,Hi,qi,Xi,Ji,Ki,Qi,tu,eu,ru,nu,ou,iu,uu,au,su,cu,fu,lu,du,hu,pu,vu,gu,yu,bu,_u,wu,mu,ju,xu,Eu,Ou,ku,Au,Cu,Mu,Su,Lu,zu,$u,Iu,Nu,Fu,Tu,Pu,Bu,Du,Uu,Wu,Vu,Ru,Gu,Zu,Yu,Hu,qu,Xu,Ju,Ku,Qu,ta,ea,ra,na,oa,ia,ua,aa,sa,ca,fa,la,da,ha,pa,va,ga,ya,ba,_a,wa,ma,ja,xa,Ea,Oa,ka,Aa,Ca,Ma,Sa,La,za,$a,Ia,Na,Fa,Ta,Pa,Ba,Da,Ua,Wa,Va,Ra,Ga,Za,Ya,Ha,qa,Xa,Ja,Ka,Qa,ts,es,rs,ns,os,is,us,as,ss,cs,fs,ls,ds,hs,ps,vs,gs,ys,bs,_s,ws,ms,js,xs,Es,Os,ks,As,Cs,Ms,Ss,Ls,zs,$s,Is,Ns,Fs,Ts,Ps,Bs,Ds,Us,Ws,Vs,Rs,Gs,Zs,Ys,Hs,qs,Xs,Js,Ks,Qs,tc,ec,rc,nc,oc,ic,uc,ac,sc,cc,fc,lc,dc,hc,pc,vc,gc,yc,bc,_c,wc,mc,jc,xc,Ec,Oc,kc,Ac,Cc,Mc,Sc,Lc,zc,$c,Ic,Nc,Fc,Tc,Pc,Bc,Dc,Uc,Wc,Vc,Rc,Gc,Zc,Yc,Hc,qc,Xc,Jc,Kc,Qc,tf,ef,rf,nf,of,uf,af,sf,cf,ff,lf,df,hf,pf,vf,gf,yf,bf,_f,wf,mf,jf,xf,Ef,Of,kf,Af,Cf,Mf,Sf,Lf,zf,$f,If,Nf,Ff,Tf,Pf={exports:{}};function Bf(){return Ji?Xi:(Ji=1,Xi=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var u=t[r];e(u,r,t)&&(i[o++]=u)}return i})}function Df(){return Qi?Ki:(Qi=1,Ki=function(){return[]})}function Uf(){if(eu)return tu;eu=1;var t=Bf(),e=Df(),r=Object.prototype.propertyIsEnumerable,n=Object.getOwnPropertySymbols;return tu=n?function(e){return null==e?[]:(e=Object(e),t(n(e),function(t){return r.call(e,t)}))}:e}function Wf(){return iu?ou:(iu=1,ou=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t})}function Vf(){if(au)return uu;au=1;var t=Ri()(Object.getPrototypeOf,Object);return uu=t}function Rf(){if(cu)return su;cu=1;var r=Wf(),n=Vf(),o=Uf(),t=Df(),t=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=n(t);return e}:t;return su=t}function Gf(){var n,o;return hu||(hu=1,n=Wf(),o=Y(),du=function(t,e,r){e=e(t);return o(t)?e:n(e,r(t))}),du}function Zf(){var e,r,n;return vu||(vu=1,e=Gf(),r=Uf(),n=H(),pu=function(t){return e(t,n,r)}),pu}function Yf(){if(xu)return ju;xu=1;var t=x()(G(),"Set");return ju=t}function Hf(){if(Au)return ku;Au=1;var t=(()=>{if(_u)return bu;_u=1;var t=x()(G(),"DataView");return bu=t})(),e=Po(),r=(()=>{if(mu)return wu;mu=1;var t=x()(G(),"Promise");return wu=t})(),n=Yf(),o=(()=>{if(Ou)return Eu;Ou=1;var t=x()(G(),"WeakMap");return Eu=t})(),i=Io(),u=To(),a="[object Map]",s="[object Promise]",c="[object Set]",f="[object WeakMap]",l="[object DataView]",d=u(t),h=u(e),p=u(r),v=u(n),g=u(o),y=i;return(t&&y(new t(new ArrayBuffer(1)))!=l||e&&y(new e)!=a||r&&y(r.resolve())!=s||n&&y(new n)!=c||o&&y(new o)!=f)&&(y=function(t){var e=i(t),t="[object Object]"==e?t.constructor:void 0,t=t?u(t):"";if(t)switch(t){case d:return l;case h:return a;case p:return s;case v:return c;case g:return f}return e}),ku=y}function qf(){if(Lu)return Su;Lu=1;var t=G().Uint8Array;return Su=t}function Xf(){if($u)return zu;$u=1;var r=qf();return zu=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}}function Jf(){var o,i,u,a,s;return Vu||(Vu=1,o=Xf(),i=(()=>{if(Nu)return Iu;Nu=1;var r=Xf();return Iu=function(t,e){e=e?r(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}})(),u=(()=>{if(Tu)return Fu;Tu=1;var r=/\w*$/;return Fu=function(t){var e=new t.constructor(t.source,r.exec(t));return e.lastIndex=t.lastIndex,e}})(),a=(()=>{if(Bu)return Pu;Bu=1;var t=$o(),e=(t=t?t.prototype:void 0)?t.valueOf:void 0;return Pu=function(t){return e?Object(e.call(t)):{}}})(),s=(()=>{if(Uu)return Du;Uu=1;var r=Xf();return Du=function(t,e){e=e?r(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}})(),Wu=function(t,e,r){var n=t.constructor;switch(e){case"[object ArrayBuffer]":return o(t);case"[object Boolean]":case"[object Date]":return new n(+t);case"[object DataView]":return i(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(t);case"[object RegExp]":return u(t);case"[object Symbol]":return a(t)}}),Wu}function Kf(){if(Gu)return Ru;Gu=1;var e=Z(),r=Object.create;function n(){}return Ru=function(t){if(!e(t))return{};if(r)return r(t);n.prototype=t;t=new n;return n.prototype=void 0,t}}function Qf(){if(Ju)return Xu;Ju=1;var t=(()=>{if(qu)return Hu;qu=1;var e=Hf(),r=O();return Hu=function(t){return r(t)&&"[object Map]"==e(t)}})(),e=li(),r=Di(),r=r&&r.isMap,e=r?e(r):t;return Xu=e}function tl(){if(ea)return ta;ea=1;var t=(()=>{if(Qu)return Ku;Qu=1;var e=Hf(),r=O();return Ku=function(t){return r(t)&&"[object Set]"==e(t)}})(),e=li(),r=Di(),r=r&&r.isSet,e=r?e(r):t;return ta=e}function el(){var t,e,r,n,o,p,v,g,y,b,_,w,m,j,x,E,O,k,A,C,M,S,L,z,$,I,N,F,T,P,B,i,u,a,s,c,f,l,d,h,D,U,W,V,R;return na||(na=1,p=Vo(),v=Ro(),g=Yo(),Si||(Si=1,V=Ho(),R=H(),Mi=function(t,e){return t&&V(e,R(e),t)}),y=Mi,Pi||(Pi=1,U=Ho(),W=Zi(),Ti=function(t,e){return t&&U(e,W(e),t)}),b=Ti,Yi||(Yi=1,r=(t=Pf).exports,e=G(),n=(n=(r=r&&!r.nodeType&&r)&&t&&!t.nodeType&&t)&&n.exports===r?e.Buffer:void 0,o=n?n.allocUnsafe:void 0,t.exports=function(t,e){return e?t.slice():(e=t.length,e=o?o(e):new t.constructor(e),t.copy(e),e)}),_=Pf.exports,w=qi?Hi:(qi=1,Hi=function(t,e){var r=-1,n=t.length;for(e=e||Array(n);++r<n;)e[r]=t[r];return e}),nu||(nu=1,h=Ho(),D=Uf(),ru=function(t,e){return h(t,D(t),e)}),m=ru,lu||(lu=1,l=Ho(),d=Rf(),fu=function(t,e){return l(t,d(t),e)}),j=fu,x=Zf(),yu||(yu=1,s=Gf(),c=Rf(),f=Zi(),gu=function(t){return s(t,f,c)}),E=gu,O=Hf(),k=(()=>{if(Mu)return Cu;Mu=1;var n=Object.prototype.hasOwnProperty;return Cu=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}})(),A=Jf(),Yu||(Yu=1,i=Kf(),u=Vf(),a=Vi(),Zu=function(t){return"function"!=typeof t.constructor||a(t)?{}:i(u(t))}),C=Zu,M=Y(),S=si(),L=Qf(),z=Z(),$=tl(),I=H(),N=Zi(),T="[object Function]",P="[object Object]",(B={})[F="[object Arguments]"]=B["[object Array]"]=B["[object ArrayBuffer]"]=B["[object DataView]"]=B["[object Boolean]"]=B["[object Date]"]=B["[object Float32Array]"]=B["[object Float64Array]"]=B["[object Int8Array]"]=B["[object Int16Array]"]=B["[object Int32Array]"]=B["[object Map]"]=B["[object Number]"]=B[P]=B["[object RegExp]"]=B["[object Set]"]=B["[object String]"]=B["[object Symbol]"]=B["[object Uint8Array]"]=B["[object Uint8ClampedArray]"]=B["[object Uint16Array]"]=B["[object Uint32Array]"]=!0,B["[object Error]"]=B[T]=B["[object WeakMap]"]=!1,ra=function r(n,o,i,t,e,u){var a,s=1&o,c=2&o,f=4&o;if(void 0===(a=i?e?i(n,t,e,u):i(n):a)){if(!z(n))return n;t=M(n);if(t){if(a=k(n),!s)return w(n,a)}else{var l=O(n),d=l==T||"[object GeneratorFunction]"==l;if(S(n))return _(n,s);if(l==P||l==F||d&&!e){if(a=c||d?{}:C(n),!s)return c?j(n,b(a,n)):m(n,y(a,n))}else{if(!B[l])return e?n:{};a=A(n,l,s)}}d=(u=u||new p).get(n);if(d)return d;u.set(n,a),$(n)?n.forEach(function(t){a.add(r(t,o,i,t,n,u))}):L(n)&&n.forEach(function(t,e){a.set(e,r(t,o,i,e,n,u))});var h=t?void 0:(f?c?E:x:c?N:I)(n);v(h||n,function(t,e){h&&(t=n[e=t]),g(a,e,r(t,o,i,e,n,u))})}return a}),ra}function rl(){return aa?ua:(aa=1,ua=function(t){return function(){return t}})}function nl(){var r,n;return ha||(ha=1,r=(()=>{if(la)return fa;la=1,ca||(ca=1,sa=function(s){return function(t,e,r){for(var n=-1,o=Object(t),i=r(t),u=i.length;u--;){var a=i[s?u:++n];if(!1===e(o[a],a,o))break}return t}});var t=sa();return fa=t})(),n=H(),da=function(t,e){return t&&r(t,e,n)}),da}function ol(){if(ya)return ga;ya=1;var t=nl(),t=(()=>{if(va)return pa;va=1;var a=k();return pa=function(i,u){return function(t,e){if(null!=t){if(!a(t))return i(t,e);for(var r=t.length,n=u?r:-1,o=Object(t);(u?n--:++n<r)&&!1!==e(o[n],n,o););}return t}}})()(t);return ga=t}function il(){return _a?ba:(_a=1,ba=function(t){return t})}function ul(){if(xa)return ja;xa=1;var r=Ro(),n=ol(),o=(()=>{if(ma)return wa;ma=1;var e=il();return wa=function(t){return"function"==typeof t?t:e}})(),i=Y();return ja=function(t,e){return(i(t)?r:n)(t,o(e))}}function al(){if($a)return za;$a=1;var n=Wo(),t=Ma?Ca:(Ma=1,Ca=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}),e=La?Sa:(La=1,Sa=function(t){return this.__data__.has(t)});function r(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}return r.prototype.add=r.prototype.push=t,r.prototype.has=e,za=r}function sl(){return Ta?Fa:(Ta=1,Fa=function(t,e){return t.has(e)})}function cl(){if(Ba)return Pa;Ba=1;var g=al(),y=Na?Ia:(Na=1,Ia=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}),b=sl();return Pa=function(t,e,r,n,o,i){var u=1&r,a=t.length,s=e.length;if(a!=s&&!(u&&a<s))return!1;var s=i.get(t),c=i.get(e);if(s&&c)return s==e&&c==t;var f=-1,l=!0,d=2&r?new g:void 0;for(i.set(t,e),i.set(e,t);++f<a;){var h,p=t[f],v=e[f];if(void 0!==(h=n?u?n(v,p,f,e,t,i):n(p,v,f,t,e,i):h)){if(h)continue;l=!1;break}if(d){if(!y(e,function(t,e){if(!b(d,e)&&(p===t||o(p,t,r,n,i)))return d.push(e)})){l=!1;break}}else if(p!==v&&!o(p,v,r,n,i)){l=!1;break}}return i.delete(t),i.delete(e),l}}function fl(){return Va?Wa:(Va=1,Wa=function(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r})}function ll(){var l,d,h,p,v,g,y,b,_,w,m,j,x,E,c,f,O,k,A,t,C;return qa||(qa=1,l=Vo(),d=cl(),Ga||(Ga=1,t=$o(),c=qf(),f=Mo(),O=cl(),k=Ua?Da:(Ua=1,Da=function(t){var r=-1,n=Array(t.size);return t.forEach(function(t,e){n[++r]=[e,t]}),n}),A=fl(),t=t?t.prototype:void 0,C=t?t.valueOf:void 0,Ra=function(t,e,r,n,o,i,u){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new c(t),new c(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return f(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=k;case"[object Set]":a=a||A;if(t.size!=e.size&&!(1&n))return!1;var s=u.get(t);if(s)return s==e;n|=2,u.set(t,e);s=O(a(t),a(e),n,o,i,u);return u.delete(t),s;case"[object Symbol]":if(C)return C.call(t)==C.call(e)}return!1}),h=Ra,Ya||(Ya=1,x=Zf(),E=Object.prototype.hasOwnProperty,Za=function(t,e,r,n,o,i){var u=1&r,a=x(t),s=a.length;if(s!=x(e).length&&!u)return!1;for(var c=s;c--;){var f=a[c];if(!(u?f in e:E.call(e,f)))return!1}var l=i.get(t),d=i.get(e);if(l&&d)return l==e&&d==t;var h=!0;i.set(t,e),i.set(e,t);for(var p=u;++c<s;){var v,g=t[f=a[c]],y=e[f];if(!(void 0===(v=n?u?n(y,g,f,e,t,i):n(g,y,f,t,e,i):v)?g===y||o(g,y,r,n,i):v)){h=!1;break}p=p||"constructor"==f}return h&&!p&&(l=t.constructor)!=(d=e.constructor)&&"constructor"in t&&"constructor"in e&&!("function"==typeof l&&l instanceof l&&"function"==typeof d&&d instanceof d)&&(h=!1),i.delete(t),i.delete(e),h}),p=Za,v=Hf(),g=Y(),y=si(),b=Ui(),_="[object Arguments]",w="[object Array]",m="[object Object]",j=Object.prototype.hasOwnProperty,Ha=function(t,e,r,n,o,i){var u=g(t),a=g(e),s=u?w:v(t),a=a?w:v(e),c=(s=s==_?m:s)==m,f=(a=a==_?m:a)==m,a=s==a;if(a&&y(t)){if(!y(e))return!1;c=!(u=!0)}if(a&&!c)return i=i||new l,u||b(t)?d(t,e,r,n,o,i):h(t,e,s,r,n,o,i);if(!(1&r)){u=c&&j.call(t,"__wrapped__"),s=f&&j.call(e,"__wrapped__");if(u||s)return o(u?t.value():t,s?e.value():e,r,n,i=i||new l)}return!!a&&(i=i||new l,p(t,e,r,n,o,i))}),Ha}function dl(){var u,a;return Ja||(Ja=1,u=ll(),a=O(),Xa=function t(e,r,n,o,i){return e===r||(null==e||null==r||!a(e)&&!a(r)?e!=e&&r!=r:u(e,r,n,o,t,i))}),Xa}function hl(){if(es)return ts;es=1;var e=Z();return ts=function(t){return t==t&&!e(t)}}function pl(){return is||(is=1,os=function(e,r){return function(t){return null!=t&&t[e]===r&&(void 0!==r||e in Object(t))}}),os}function vl(){if(cs)return ss;cs=1;var e=Io(),r=O();return ss=function(t){return"symbol"==typeof t||r(t)&&"[object Symbol]"==e(t)}}function gl(){var n,o,i,u;return ls||(ls=1,n=Y(),o=vl(),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/,fs=function(t,e){var r;return!n(t)&&(!("number"!=(r=typeof t)&&"symbol"!=r&&"boolean"!=r&&null!=t&&!o(t))||u.test(t)||!i.test(t)||null!=e&&t in Object(e))}),fs}function yl(){var r;return vs||(vs=1,r=(()=>{if(hs)return ds;hs=1;var t=Wo();function e(n,o){if("function"!=typeof n||null!=o&&"function"!=typeof o)throw new TypeError("Expected a function");function i(){var t=arguments,e=o?o.apply(this,t):t[0],r=i.cache;return r.has(e)?r.get(e):(t=n.apply(this,t),i.cache=r.set(e,t)||r,t)}return i.cache=new(e.Cache||t),i}return e.Cache=t,ds=e})(),ps=function(t){var t=r(t,function(t){return 500===e.size&&e.clear(),t}),e=t.cache;return t}),ps}function bl(){return _s?bs:(_s=1,bs=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o})}function _l(){var r,n,o,i;return Os||(Os=1,r=Y(),n=gl(),o=(()=>{if(ys)return gs;ys=1;var t=yl(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,t=t(function(t){var o=[];return 46===t.charCodeAt(0)&&o.push(""),t.replace(e,function(t,e,r,n){o.push(r?n.replace(i,"$1"):e||t)}),o});return gs=t})(),i=(()=>{if(xs)return js;xs=1,ms||(ms=1,t=$o(),n=bl(),o=Y(),i=vl(),t=t?t.prototype:void 0,u=t?t.toString:void 0,ws=function t(e){var r;return"string"==typeof e?e:o(e)?n(e,t)+"":i(e)?u?u.call(e):"":"0"==(r=e+"")&&1/e==-1/0?"-0":r});var n,o,i,t,u,e=ws;return js=function(t){return null==t?"":e(t)}})(),Es=function(t,e){return r(t)?t:n(t,e)?[t]:o(i(t))}),Es}function wl(){if(As)return ks;As=1;var r=vl();return ks=function(t){var e;return"string"==typeof t||r(t)?t:"0"==(e=t+"")&&1/t==-1/0?"-0":e}}function ml(){var o,i;return Ms||(Ms=1,o=_l(),i=wl(),Cs=function(t,e){for(var r=0,n=(e=o(e,t)).length;null!=t&&r<n;)t=t[i(e[r++])];return r&&r==n?t:void 0}),Cs}function jl(){var a,s,c,f,l,d;return Ns||(Ns=1,a=_l(),s=qo(),c=Y(),f=ci(),l=fi(),d=wl(),Is=function(t,e,r){for(var n=-1,o=(e=a(e,t)).length,i=!1;++n<o;){var u=d(e[n]);if(!(i=null!=t&&r(t,u)))break;t=t[u]}return i||++n!=o?i:!!(o=null==t?0:t.length)&&l(o)&&f(u,o)&&(c(t)||s(t))}),Is}function xl(){var o,i,u,t,e,a,s,r,n,c;return Bs||(Bs=1,o=dl(),Ls||(Ls=1,c=ml(),Ss=function(t,e,r){t=null==t?void 0:c(t,e);return void 0===t?r:t}),i=Ss,Ts||(Ts=1,$s||($s=1,zs=function(t,e){return null!=t&&e in Object(t)}),r=zs,n=jl(),Fs=function(t,e){return null!=t&&n(t,e,r)}),u=Fs,t=gl(),e=hl(),a=pl(),s=wl(),Ps=function(r,n){return t(r)&&e(n)?a(s(r),n):function(t){var e=i(t,r);return void 0===e&&e===n?u(t,r):o(n,e,3)}}),Ps}function El(){return Us||(Us=1,Ds=function(e){return function(t){return null==t?void 0:t[e]}}),Ds}function Ol(){if(Ys)return Zs;Ys=1;as||(as=1,Qa||(Qa=1,h=Vo(),p=dl(),Ka=function(t,e,r,n){var o=r.length,i=o,u=!n;if(null==t)return!i;for(t=Object(t);o--;){var a=r[o];if(u&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<i;){var s=(a=r[o])[0],c=t[s],f=a[1];if(u&&a[2]){if(void 0===c&&!(s in t))return!1}else{var l,d=new h;if(!(void 0===(l=n?n(c,f,s,t,e,d):l)?p(f,c,3,n,d):l))return!1}}return!0}),n=Ka,ns||(ns=1,i=hl(),u=H(),rs=function(t){for(var e=u(t),r=e.length;r--;){var n=e[r],o=t[n];e[r]=[n,o,i(o)]}return e}),t=rs,o=pl(),us=function(e){var r=t(e);return 1==r.length&&r[0][2]?o(r[0][0],r[0][1]):function(t){return t===e||n(t,e,r)}});var n,t,o,i,u,h,p,e=us,r=xl(),a=il(),s=Y(),c=(()=>{if(Gs)return Rs;Gs=1;var r,e=El(),n=(Vs||(Vs=1,r=ml(),Ws=function(e){return function(t){return r(t,e)}}),Ws),o=gl(),i=wl();return Rs=function(t){return o(t)?e(i(t)):n(t)}})();return Zs=function(t){return"function"==typeof t?t:null==t?a:"object"==typeof t?s(t)?r(t[0],t[1]):e(t):c(t)}}function kl(){if(xc)return jc;xc=1;var e=(()=>{if(yc)return gc;yc=1;var t=El()("length");return gc=t})(),r=(()=>{if(_c)return bc;_c=1;var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");return bc=function(t){return e.test(t)}})(),n=(()=>{if(mc)return wc;mc=1;var t="\\ud800-\\udfff",e="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",n="\\ud83c[\\udffb-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",i="[\\ud800-\\udbff][\\udc00-\\udfff]",u=(u="[\\ufe0e\\ufe0f]?")+(a="(?:"+r+"|"+n+")?")+"(?:\\u200d(?:"+[t="[^"+t+"]",o,i].join("|")+")"+u+a+")*",a="(?:"+[t+r+"?",r,o,i,e].join("|")+")",s=RegExp(n+"(?="+n+")|"+a+u,"g");return wc=function(t){for(var e=s.lastIndex=0;s.test(t);)++e;return e}})();return jc=function(t){return(r(t)?n:e)(t)}}function Al(){var c,f;return Lc||(Lc=1,c=Wf(),f=(()=>{if(Mc)return Cc;Mc=1;var t=$o(),e=qo(),r=Y(),n=t?t.isConcatSpreadable:void 0;return Cc=function(t){return r(t)||e(t)||!!(n&&t&&t[n])}})(),Sc=function t(e,r,n,o,i){var u=-1,a=e.length;for(n=n||f,i=i||[];++u<a;){var s=e[u];0<r&&n(s)?1<r?t(s,r-1,n,o,i):c(i,s):o||(i[i.length]=s)}return i}),Sc}function Cl(){if(Uc)return Dc;Uc=1;var t=(()=>{if(Tc)return Fc;Tc=1;var r=rl(),n=Go(),t=il();return Fc=n?function(t,e){return n(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:t})();Bc||(Bc=1,i=Date.now,Pc=function(r){var n=0,o=0;return function(){var t=i(),e=16-(t-o);if(o=t,0<e){if(800<=++n)return arguments[0]}else n=0;return r.apply(void 0,arguments)}});var i,t=Pc(t);return Dc=t}function Ml(){if(sf)return af;sf=1;var h=al(),p=(()=>{if(Qc)return Kc;Qc=1;var r=(()=>{if(Jc)return Xc;Jc=1;var n=Gc?Rc:(Gc=1,Rc=function(t,e,r,n){for(var o=t.length,i=r+(n?1:-1);n?i--:++i<o;)if(e(t[i],i,t))return i;return-1}),o=Yc?Zc:(Yc=1,Zc=function(t){return t!=t}),i=qc?Hc:(qc=1,Hc=function(t,e,r){for(var n=r-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1});return Xc=function(t,e,r){return e==e?i(t,e,r):n(t,o,r)}})();return Kc=function(t,e){return!(null==t||!t.length)&&-1<r(t,e,0)}})(),v=ef?tf:(ef=1,tf=function(t,e,r){for(var n=-1,o=null==t?0:t.length;++n<o;)if(r(e,t[n]))return!0;return!1}),g=sl(),y=(()=>{if(uf)return of;uf=1;var e=Yf(),t=nf?rf:(nf=1,rf=function(){}),r=fl(),r=e&&1/r(new e([,-0]))[1]==1/0?function(t){return new e(t)}:t;return of=r})(),b=fl();return af=function(t,e,r){var n=-1,o=p,i=t.length,u=!0,a=[],s=a;if(r)u=!1,o=v;else if(200<=i){var c=e?null:y(t);if(c)return b(c);u=!1,o=g,s=new h}else s=e?[]:a;t:for(;++n<i;){var f=t[n],l=e?e(f):f,f=r||0!==f?f:0;if(u&&l==l){for(var d=s.length;d--;)if(s[d]===l)continue t;e&&s.push(l),a.push(f)}else o(s,l,r)||(s!==a&&s.push(l),a.push(f))}return a}}try{Sl={clone:(()=>{if(ia)return oa;ia=1;var e=el();return oa=function(t){return e(t,4)}})(),constant:rl(),each:Oa?Ea:(Oa=1,Ea=ul()),filter:(()=>{if(qs)return Hs;qs=1;var r=Bf(),n=(()=>{if(Aa)return ka;Aa=1;var e=ol();return ka=function(t,n){var o=[];return e(t,function(t,e,r){n(t,e,r)&&o.push(t)}),o}})(),o=Ol(),i=Y();return Hs=function(t,e){return(i(t)?r:n)(t,o(e,3))}})(),has:(Qs||(Qs=1,Js||(Js=1,Tf=Object.prototype.hasOwnProperty,Xs=function(t,e){return null!=t&&Tf.call(t,e)}),Nf=Xs,Ff=jl(),Ks=function(t,e){return null!=t&&Ff(t,e,Nf)}),Ks),isArray:Y(),isEmpty:(()=>{if(ec)return tc;ec=1;var n=Gi(),o=Hf(),i=qo(),u=Y(),a=k(),s=si(),c=Vi(),f=Ui(),l=Object.prototype.hasOwnProperty;return tc=function(t){if(null!=t){if(a(t)&&(u(t)||"string"==typeof t||"function"==typeof t.splice||s(t)||f(t)||i(t)))return!t.length;var e,r=o(t);if("[object Map]"==r||"[object Set]"==r)return!t.size;if(c(t))return!n(t).length;for(e in t)if(l.call(t,e))return!1}return!0}})(),isFunction:No(),isUndefined:nc?rc:(nc=1,rc=function(t){return void 0===t}),keys:H(),map:(()=>{if(ac)return uc;ac=1;var r=bl(),n=Ol(),o=(()=>{if(ic)return oc;ic=1;var e=ol(),r=k();return oc=function(t,n){var o=-1,i=r(t)?Array(t.length):[];return e(t,function(t,e,r){i[++o]=n(t,e,r)}),i}})(),i=Y();return uc=function(t,e){return(i(t)?r:o)(t,n(e,3))}})(),reduce:(hc||(hc=1,Sf=cc?sc:(cc=1,sc=function(t,e,r,n){var o=-1,i=null==t?0:t.length;for(n&&i&&(r=t[++o]);++o<i;)r=e(r,t[o],o,t);return r}),Lf=ol(),zf=Ol(),$f=lc?fc:(lc=1,fc=function(t,n,o,i,e){return e(t,function(t,e,r){o=i?(i=!1,t):n(o,t,e,r)}),o}),If=Y(),dc=function(t,e,r){var n=If(t)?Sf:$f,o=arguments.length<3;return n(t,zf(e,4),r,o,Lf)}),dc),size:(()=>{if(Oc)return Ec;Oc=1;var r=Gi(),n=Hf(),o=k(),i=(()=>{if(vc)return pc;vc=1;var e=Io(),r=Y(),n=O();return pc=function(t){return"string"==typeof t||!r(t)&&n(t)&&"[object String]"==e(t)}})(),u=kl();return Ec=function(t){var e;return null==t?0:o(t)?i(t)?u(t):t.length:"[object Map]"==(e=n(t))||"[object Set]"==e?t.size:r(t).length}})(),transform:(Ac||(Ac=1,wf=Ro(),mf=Kf(),jf=nl(),xf=Ol(),Ef=Vf(),Of=Y(),kf=si(),Af=No(),Cf=Z(),Mf=Ui(),kc=function(t,n,o){var e,r=Of(t),i=r||kf(t)||Mf(t);return n=xf(n,4),null==o&&(e=t&&t.constructor,o=i?r?new e:[]:Cf(t)&&Af(e)?mf(Ef(t)):{}),(i?wf:jf)(t,function(t,e,r){return n(o,t,e,r)}),o}),kc),union:(()=>{if(df)return lf;df=1;var r,n,o,s,c,e=Al(),t=(Vc||(Vc=1,r=il(),Nc||(Nc=1,$c||($c=1,zc=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}),s=zc,c=Math.max,Ic=function(i,u,a){return u=c(void 0===u?i.length-1:u,0),function(){for(var t=arguments,e=-1,r=c(t.length-u,0),n=Array(r);++e<r;)n[e]=t[u+e];for(var e=-1,o=Array(u+1);++e<u;)o[e]=t[e];return o[u]=a(n),s(i,this,o)}}),n=Ic,o=Cl(),Wc=function(t,e){return o(n(t,e,r),t+"")}),Wc),i=Ml(),u=(()=>{if(ff)return cf;ff=1;var e=k(),r=O();return cf=function(t){return r(t)&&e(t)}})(),t=t(function(t){return i(e(t,1,u,!0))});return lf=t})(),values:(gf||(gf=1,pf||(pf=1,_f=bl(),hf=function(e,t){return _f(t,function(t){return e[t]})}),yf=hf,bf=H(),vf=function(t){return null==t?[]:yf(t,bf(t))}),vf)}}catch(t){}var Sl,r=Sl=Sl||window._,A=r,e=M,C="\0";function M(t){this._isDirected=!A.has(t,"directed")||t.directed,this._isMultigraph=!!A.has(t,"multigraph")&&t.multigraph,this._isCompound=!!A.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=A.constant(void 0),this._defaultEdgeLabelFn=A.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[C]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function Ll(t,e){t[e]?t[e]++:t[e]=1}function zl(t,e){--t[e]||delete t[e]}function $l(t,e,r,n){e=""+e,r=""+r;return!t&&r<e&&(t=e,e=r,r=t),e+""+r+""+(A.isUndefined(n)?"\0":n)}function Il(t,e){return $l(t,e.v,e.w,e.name)}M.prototype._nodeCount=0,M.prototype._edgeCount=0,M.prototype.isDirected=function(){return this._isDirected},M.prototype.isMultigraph=function(){return this._isMultigraph},M.prototype.isCompound=function(){return this._isCompound},M.prototype.setGraph=function(t){return this._label=t,this},M.prototype.graph=function(){return this._label},M.prototype.setDefaultNodeLabel=function(t){return A.isFunction(t)||(t=A.constant(t)),this._defaultNodeLabelFn=t,this},M.prototype.nodeCount=function(){return this._nodeCount},M.prototype.nodes=function(){return A.keys(this._nodes)},M.prototype.sources=function(){var e=this;return A.filter(this.nodes(),function(t){return A.isEmpty(e._in[t])})},M.prototype.sinks=function(){var e=this;return A.filter(this.nodes(),function(t){return A.isEmpty(e._out[t])})},M.prototype.setNodes=function(t,e){var r=arguments,n=this;return A.each(t,function(t){1<r.length?n.setNode(t,e):n.setNode(t)}),this},M.prototype.setNode=function(t,e){return A.has(this._nodes,t)?1<arguments.length&&(this._nodes[t]=e):(this._nodes[t]=1<arguments.length?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=C,this._children[t]={},this._children[C][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount),this},M.prototype.node=function(t){return this._nodes[t]},M.prototype.hasNode=function(t){return A.has(this._nodes,t)},M.prototype.removeNode=function(t){var e,r=this;return A.has(this._nodes,t)&&(e=function(t){r.removeEdge(r._edgeObjs[t])},delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],A.each(this.children(t),function(t){r.setParent(t)}),delete this._children[t]),A.each(A.keys(this._in[t]),e),delete this._in[t],delete this._preds[t],A.each(A.keys(this._out[t]),e),delete this._out[t],delete this._sucs[t],--this._nodeCount),this},M.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(A.isUndefined(e))e=C;else{for(var r=e+="";!A.isUndefined(r);r=this.parent(r))if(r===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},M.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},M.prototype.parent=function(t){if(this._isCompound){t=this._parent[t];if(t!==C)return t}},M.prototype.children=function(t){var e;return A.isUndefined(t)&&(t=C),this._isCompound?(e=this._children[t])?A.keys(e):void 0:t===C?this.nodes():this.hasNode(t)?[]:void 0},M.prototype.predecessors=function(t){t=this._preds[t];if(t)return A.keys(t)},M.prototype.successors=function(t){t=this._sucs[t];if(t)return A.keys(t)},M.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return A.union(e,this.successors(t))},M.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},M.prototype.filterNodes=function(r){var n=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound}),o=(n.setGraph(this.graph()),this),i=(A.each(this._nodes,function(t,e){r(e)&&n.setNode(e,t)}),A.each(this._edgeObjs,function(t){n.hasNode(t.v)&&n.hasNode(t.w)&&n.setEdge(t,o.edge(t))}),{});return this._isCompound&&A.each(n.nodes(),function(t){n.setParent(t,function t(e){var r=o.parent(e);return void 0===r||n.hasNode(r)?i[e]=r:r in i?i[r]:t(r)}(t))}),n},M.prototype.setDefaultEdgeLabel=function(t){return A.isFunction(t)||(t=A.constant(t)),this._defaultEdgeLabelFn=t,this},M.prototype.edgeCount=function(){return this._edgeCount},M.prototype.edges=function(){return A.values(this._edgeObjs)},M.prototype.setPath=function(t,r){var n=this,o=arguments;return A.reduce(t,function(t,e){return 1<o.length?n.setEdge(t,e,r):n.setEdge(t,e),e}),this},M.prototype.setEdge=function(){var t,e=!1,r=arguments[0],r=("object"==typeof r&&null!==r&&"v"in r?(i=r.v,u=r.w,t=r.name,2===arguments.length&&(n=arguments[1],e=!0)):(i=r,u=arguments[1],t=arguments[3],2<arguments.length&&(n=arguments[2],e=!0)),i=""+i,u=""+u,A.isUndefined(t)||(t=""+t),$l(this._isDirected,i,u,t));if(A.has(this._edgeLabels,r))e&&(this._edgeLabels[r]=n);else{if(!A.isUndefined(t)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(i),this.setNode(u),this._edgeLabels[r]=e?n:this._defaultEdgeLabelFn(i,u,t);e=this._isDirected,n=""+i,o=""+u,!e&&o<n&&(e=n,n=o,o=e),e={v:n,w:o},(o=t)&&(e.name=o);var n,o=e,i=o.v,u=o.w;Object.freeze(o),this._edgeObjs[r]=o,Ll(this._preds[u],i),Ll(this._sucs[i],u),this._in[u][r]=o,this._out[i][r]=o,this._edgeCount++}return this},M.prototype.edge=function(t,e,r){t=1===arguments.length?Il(this._isDirected,t):$l(this._isDirected,t,e,r);return this._edgeLabels[t]},M.prototype.hasEdge=function(t,e,r){t=1===arguments.length?Il(this._isDirected,t):$l(this._isDirected,t,e,r);return A.has(this._edgeLabels,t)},M.prototype.removeEdge=function(t,e,r){var r=1===arguments.length?Il(this._isDirected,arguments[0]):$l(this._isDirected,t,e,r),n=this._edgeObjs[r];return n&&(t=n.v,e=n.w,delete this._edgeLabels[r],delete this._edgeObjs[r],zl(this._preds[e],t),zl(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this},M.prototype.inEdges=function(t,e){var t=this._in[t];if(t)return t=A.values(t),e?A.filter(t,function(t){return t.v===e}):t},M.prototype.outEdges=function(t,e){var t=this._out[t];if(t)return t=A.values(t),e?A.filter(t,function(t){return t.w===e}):t},M.prototype.nodeEdges=function(t,e){var r=this.inEdges(t,e);if(r)return r.concat(this.outEdges(t,e))};var c={Graph:e,version:"2.1.8"},S=r,Nl=e,u={write:function(t){var n,o,e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:(o=t,S.map(o.nodes(),function(t){var e=o.node(t),r=o.parent(t),t={v:t};return S.isUndefined(e)||(t.value=e),S.isUndefined(r)||(t.parent=r),t})),edges:(n=t,S.map(n.edges(),function(t){var e=n.edge(t),r={v:t.v,w:t.w};return S.isUndefined(t.name)||(r.name=t.name),S.isUndefined(e)||(r.value=e),r}))};return S.isUndefined(t.graph())||(e.value=S.clone(t.graph())),e},read:function(t){var e=new Nl(t.options).setGraph(t.value);return S.each(t.nodes,function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)}),S.each(t.edges,function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)}),e}};var Fl=r,Tl=r,ot=L;function L(){this._arr=[],this._keyIndices={}}L.prototype.size=function(){return this._arr.length},L.prototype.keys=function(){return this._arr.map(function(t){return t.key})},L.prototype.has=function(t){return Tl.has(this._keyIndices,t)},L.prototype.priority=function(t){t=this._keyIndices[t];if(void 0!==t)return this._arr[t].priority},L.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},L.prototype.add=function(t,e){var r,n,o=this._keyIndices;return t=String(t),!Tl.has(o,t)&&(n=(r=this._arr).length,o[t]=n,r.push({key:t,priority:e}),this._decrease(n),!0)},L.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},L.prototype.decrease=function(t,e){var r=this._keyIndices[t];if(e>this._arr[r].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[r].priority+" New: "+e);this._arr[r].priority=e,this._decrease(r)},L.prototype._heapify=function(t){var e=this._arr,r=2*t,n=1+r,o=t;r<e.length&&(o=e[r].priority<e[o].priority?r:o,(o=n<e.length?e[n].priority<e[o].priority?n:o:o)!==t)&&(this._swap(t,o),this._heapify(o))},L.prototype._decrease=function(t){for(var e,r=this._arr,n=r[t].priority;0!==t&&!(r[e=t>>1].priority<n);)this._swap(t,e),t=e},L.prototype._swap=function(t,e){var r=this._arr,n=this._keyIndices,o=r[t],i=r[e];r[t]=i,r[e]=o,n[i.key]=t,n[o.key]=e};function Pl(e,t,r,n){var o=e,i=String(t),u=r||Ul,a=n||function(t){return e.outEdges(t)};function s(t){var e=t.v!==c?t.v:t.w,r=l[e],n=u(t),o=f.distance+n;if(n<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+n);o<r.distance&&(r.distance=o,r.predecessor=c,d.decrease(e,o))}var c,f,l={},d=new Dl;for(o.nodes().forEach(function(t){var e=t===i?0:Number.POSITIVE_INFINITY;l[t]={distance:e},d.add(t,e)});0<d.size()&&(c=d.removeMin(),(f=l[c]).distance!==Number.POSITIVE_INFINITY);)a(c).forEach(s);return l}function Bl(i){var u=0,a=[],s={},c=[];return i.nodes().forEach(function(t){Rl.has(s,t)||function e(t){var r=s[t]={onStack:!0,lowlink:u,index:u++};if(a.push(t),i.successors(t).forEach(function(t){Rl.has(s,t)?s[t].onStack&&(r.lowlink=Math.min(r.lowlink,s[t].index)):(e(t),r.lowlink=Math.min(r.lowlink,s[t].lowlink))}),r.lowlink===r.index){for(var n,o=[];n=a.pop(),s[n].onStack=!1,o.push(n),t!==n;);c.push(o)}}(t)}),c}var Dl=ot,Ul=r.constant(1),Wl=Pl,Vl=r,Rl=r,Gl=r,Zl=Bl,Yl=r.constant(1),Hl=r,a=ql;function ql(r){var n={},o={},i=[];if(Hl.each(r.sinks(),function t(e){if(Hl.has(o,e))throw new Xl;Hl.has(n,e)||(o[e]=!0,n[e]=!0,Hl.each(r.predecessors(e),t),delete o[e],i.push(e))}),Hl.size(n)!==r.nodeCount())throw new Xl;return i}function Xl(){}(ql.CycleException=Xl).prototype=new Error;function Jl(e,t,r){Ql.isArray(t)||(t=[t]);var n=(e.isDirected()?e.successors:e.neighbors).bind(e),o=[],i={};return Ql.each(t,function(t){if(!e.hasNode(t))throw new Error("Graph does not have node: "+t);!function e(r,t,n,o,i,u){Ql.has(o,t)||(o[t]=!0,n||u.push(t),Ql.each(i(t),function(t){e(r,t,n,o,i,u)}),n&&u.push(t))}(e,t,"post"===r,i,n,o)}),o}var Kl=a,Ql=r;var td=Jl,ed=Jl,rd=r,nd=e,od=ot,id={Graph:c.Graph,json:u,alg:{components:function(e){var r,n={},o=[];function i(t){Fl.has(n,t)||(n[t]=!0,r.push(t),Fl.each(e.successors(t),i),Fl.each(e.predecessors(t),i))}return Fl.each(e.nodes(),function(t){r=[],i(t),r.length&&o.push(r)}),o},dijkstra:Pl,dijkstraAll:function(r,n,o){return Vl.transform(r.nodes(),function(t,e){t[e]=Wl(r,e,n,o)},{})},findCycles:function(e){return Gl.filter(Zl(e),function(t){return 1<t.length||1===t.length&&e.hasEdge(t[0],t[0])})},floydWarshall:function(e,t,r){return n=t||Yl,o=r||function(t){return e.outEdges(t)},u={},(a=e.nodes()).forEach(function(r){u[r]={},u[r][r]={distance:0},a.forEach(function(t){r!==t&&(u[r][t]={distance:Number.POSITIVE_INFINITY})}),o(r).forEach(function(t){var e=t.v===r?t.w:t.v,t=n(t);u[r][e]={distance:t,predecessor:r}})}),a.forEach(function(o){var i=u[o];a.forEach(function(t){var n=u[t];a.forEach(function(t){var e=n[o],r=i[t],t=n[t],e=e.distance+r.distance;e<t.distance&&(t.distance=e,t.predecessor=r.predecessor)})})}),u;var n,o,u,a},isAcyclic:function(t){try{Kl(t)}catch(t){if(t instanceof Kl.CycleException)return!1;throw t}return!0},postorder:function(t,e){return td(t,e,"post")},preorder:function(t,e){return ed(t,e,"pre")},prim:function(t,n){var o,e=new nd,i={},u=new od;function r(t){var e=t.v===o?t.w:t.v,r=u.priority(e);void 0!==r&&(t=n(t))<r&&(i[e]=o,u.decrease(e,t))}if(0!==t.nodeCount()){rd.each(t.nodes(),function(t){u.add(t,Number.POSITIVE_INFINITY),e.setNode(t)}),u.decrease(t.nodes()[0],0);for(var a=!1;0<u.size();){if(o=u.removeMin(),rd.has(i,o))e.setEdge(o,i[o]);else{if(a)throw new Error("Input graph is not connected: "+t);a=!0}t.nodeEdges(o).forEach(r)}}return e},tarjan:Bl,topsort:a},version:c.version};function ud(t,e,r){let n=0;return 0<r&&(n+=Or(t,e[r-1],e[r])),r+1<e.length&&(n+=Or(t,e[r],e[r+1])),n}function ad(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function sd(t){var e,r=Math.floor(t.length/2);return 0===t.length?-1:t.length%2==1?t[r]:2===t.length?(t[0]+t[1])/2:(t[r-1]*(e=t[t.length-1]-t[r])+t[r]*(r=t[r-1]-t[0]))/(r+e)}function cd(r,t,e,n,o,i=!1){let u=t[e],a=t[n],s=[];return a.forEach((t,e)=>{0<r.nodeEdges(t,o).length&&s.push(e)}),0===s.length&&i&&u.forEach((t,e)=>{0<r.nodeEdges(t,o).length&&s.push(e+.5)}),s.sort((t,e)=>t-e),s}function fd(o,i){var u=new Map(o.map((t,e)=>[t,e]));for(let t=1;t<o.length;++t)for(let n=t;0<n;--n){let t=n-1,e=i.get(o[t]),r=i.get(o[n]);for(;-1===(e=i.get(o[t]))&&0<t;)t--;if(-1===r||-1===e)break;if(e===r&&(e=u.get(o[t]),r=u.get(o[n])),r>=e)break;[o[n],o[t]]=[o[t],o[n]]}}function ld(t,e=25){var n=(r=>{let n=[],t=r.nodes().filter(t=>0===r.node(t).rank).concat(r.sources());return 0===t.length&&(t=r.nodes().slice(0,1)),id.alg.preorder(r,t).forEach(t=>{for(var e=r.node(t).rank;e>=n.length;)n.push([]);n[e].push(t)}),n})(t);let r=n,o=0;for(;o++<e;){((o,i,t,u=!1)=>{if(0<t)for(let n=1;n<i.length;++n){let r=new Map;i[n].forEach(t=>{var e=sd(cd(o,i,n,n-1,t,u));r.set(t,e)}),fd(i[n],r)}else for(let n=i.length-2;0<=n;--n){let r=new Map;i[n].forEach(t=>{var e=sd(cd(o,i,n,n+1,t,u));r.set(t,e)}),fd(i[n],r)}})(t,n,o%2==0?1:0);{i=void 0;u=void 0;a=void 0;var i=t;var u=n;let r=!0;for(;r;){r=!1;for(let e=0;e<u.length;++e)for(let t=0;t<u[e].length-1;++t){var a=ud(i,u,e);ad(u[e],t,t+1),ud(i,u,e)<a?r=!0:ad(u[e],t,t+1)}}}dd(t,n)<dd(t,r)&&(r=(t=>{let r=[];for(var n of t){let e=[];r.push(e);for(let t of n)e.push(t)}return r})(n))}return r=r.map(t=>[t])}function dd(e,r){let n=0;for(let t=0;t<r.length-1;++t)n+=Or(e,r[t],r[t+1]);return n}function hd(){function c(t){return t.data.value}function f(t){return t.data?t.data.direction:"r"}let p=[100,100],l=null,v=.5,g=function(t,e,r){return 1};function y(d,t){var e,r,n;null===l&&y.scaleToFit(d,t),pd(d,c,f),e=d,r=c,n=l,e.nodes().forEach(t=>{t=e.node(t);t.dy=t.value*n}),e.edges().forEach(t=>{t=e.edge(t);t.value=r(t),t.dy=t.value*n});let h=vd(d,t);t.forEach(t=>{let l=0;t.forEach((r,t)=>{let e=h[t]/j(h)*p[1],n=0===l?0:v*e/5,o=e-2*n,i=j(r,t=>d.node(t).dy),u=r.map((t,e)=>d.node(t).value&&r[e+1]?g(r[e],r[e+1],d):0),a=Math.max(0,o-i),s=j(u)?a/j(u):0,c=l+n,f=(1===r.length&&(c+=(o-d.node(r[0]).dy)/2),Number.MAX_VALUE);r.forEach((t,e)=>{t=d.node(t);t.y=c,t.spaceAbove=f,t.spaceBelow=u[e]*s,c+=t.dy+t.spaceBelow,f=t.spaceBelow,t.data&&void 0!==t.data.forceY&&(t.y=n+t.data.forceY*(o-t.dy))}),0<r.length&&(d.node(r[r.length-1]).spaceBelow=Number.MAX_VALUE),l+=e})});var i=((n,r)=>{let o=[];return r.forEach((t,e)=>{if(e!==r.length-1){let r=0;t.forEach(t=>{t.forEach(t=>{n.outEdges(t).forEach(t=>{var e=n.edge(t).dy,t=n.node(t.w).y-n.node(t.v).y,t=Math.abs(t)-e,t=e*e-t*t,t=0<=t?Math.sqrt(t):e;t>r&&(r=t)})})}),o.push(r)}}),o})(d,t);{var u=d,a=t,s=p[0];let r=j(t=i),n;if(r>s)n=t.map(t=>s*t/r);else{let e=s-r;n=t.map(t=>t+e/(a.length-1))}let o=0;a.forEach((t,e)=>{t.forEach(t=>{t.forEach(t=>{u.node(t).x=o})}),o+=n[e]})}let o=[];return d.nodes().forEach(t=>{var e=d.node(t);e.id=t,o.push(e)}),o}return y.scaleToFit=function(t,e){pd(t,c,f);t=j(vd(t,e));t<=0?l=1:(l=p[1]/t,1!==v&&(l*=1-v))},y.size=function(t){return arguments.length?(p=t,y):p},y.separation=function(t){return arguments.length?(g=kt(t)?t:()=>t,y):g},y.whitespace=function(t){return arguments.length?(v=t,y):v},y.scale=function(t){return arguments.length?(l=t,y):l},y}function pd(o,i,u){o.nodes().forEach(t=>{var e=j(o.inEdges(t),t=>i(o.edge(t))),r=j(o.outEdges(t),t=>i(o.edge(t)));let n=o.node(t);n||o.setNode(t,n={}),n.value=Math.max(e,r),void 0===n.direction&&(n.direction=u(n)||"r")})}function vd(r,t){if(0===t.length||0===t[0].length)return[];let e=t[0].length,n=new Array(e);for(let t=0;t<e;t++)n[t]=0;return t.forEach(t=>{t.forEach((t,e)=>{t=j(t,t=>r.node(t).value);n[e]=Math.max(n[e],t)})}),n}function gd(t,e){return t<e}let yd=(f=function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]})&&f.__esModule&&Object.prototype.hasOwnProperty.call(f,"default")?f.default:f;function bd(r,t){let n=((e,t)=>{let r=new Set,n=new id.Graph({directed:!0}),o=[];if(e.hasNode(t))return _d(e,t,r,n,o),e.nodes().forEach(t=>{r.has(t)||_d(e,t,r,n,o)}),o.forEach((t,e)=>{n.node(t).thread=e+1<o.length?o[e+1]:o[0]}),n;throw Error("node not in graph")})(r,t);r.edges().forEach(e=>{if(((e,r,n)=>{var o=e.node(r),i=e.node(n);if(o.depth<i.depth){let t=o.thread;for(;e.node(t).depth>o.depth;){if(t===n)return 1;t=e.node(t).thread}}else if(i.depth<o.depth){let t=i.thread;for(;e.node(t).depth>i.depth;){if(t===r)return-1;t=e.node(t).thread}}return 0})(n,e.v,e.w)<0){let t=r.edge(e)||{};t.reversed=!0,r.removeEdge(e),r.setEdge(e.w,e.v,t)}})}function _d(e,r,n,o,i,u=0){n.has(r)||(n.add(r),i.push(r),o.setNode(r,{depth:u}),e.outEdges(r).map(t=>t.w).forEach(t=>{n.has(t)||o.setEdge(r,t,{delta:1}),_d(e,t,n,o,i,u+1)}))}function wd(n,t){if(0!==n.nodes().length){let r=((i,e)=>{let u=new id.Graph({directed:!0}),t=!1;for(var r of e)if("min"===r.type){t=!0;break}if(!t){let t=i.sources();e=0<t.length?[{nodes:[t[0]],type:"min"},...e]:[{nodes:[i.nodes()[0]],type:"min"},...e]}let a=new Map,n=0;return e.forEach(t=>{if(t.nodes&&0!==t.nodes.length){let e=""+n++;t.nodes.forEach(t=>{a.set(t,e)}),u.setNode(e,{nodes:t.nodes,type:t.type})}}),i.nodes().forEach(t=>{var e,r;a.has(t)||(e=""+n++,r={nodes:[t],type:"same"},a.set(t,e),u.setNode(e,r))}),i.edges().forEach(t=>{var e=a.has(t.v)?a.get(t.v):t.v,r=a.has(t.w)?a.get(t.w):t.w,n=i.node(t.v)||{},t=i.node(t.w)||{},o=u.edge(e,r)||{delta:0};e===r?(o.delta=0,u.setEdge(e,r,o)):"l"===n.direction?(o.delta=Math.max(o.delta,"l"===t.direction?1:0),u.setEdge(r,e,o)):(o.delta=Math.max(o.delta,"l"===t.direction?0:1),u.setEdge(e,r,o))}),u})(n,t);(e=r).sources().forEach(t=>{"0"!==t&&e.setEdge("0",t,{delta:0,temp:!0})}),bd(r,"0");{var i=r;var u;let e=i.sources(),n=new Set,o=new Set;for(i.edges().forEach(t=>{t.v===t.w&&o.add(t)});0<e.length;){var a=e.shift();n.add(a);let r=i.node(a);r||i.setNode(a,r={}),r.rank=0;for(let e of i.inEdges(a)){let t=yd(null==(u=i.edge(e)||{})?void 0:u.delta,1);r.rank=Math.max(r.rank,i.node(e.v).rank+t)}for(let t of i.outEdges(a))o.add(t);for(let t of i.nodes())e.indexOf(t)<0&&!n.has(t)&&!i.inEdges(t).some(t=>!o.has(t))&&e.push(t)}}var o,e;function s(t){var e=o.node(t),t=(t=>{if(t&&t.length){for(var e=t,r=yr,n=gd,o=-1,i=e.length;++o<i;){var u,a,s=e[o],c=r(s);null!=c&&(void 0===u?c==c&&!R(c):n(c,u))&&(u=c,a=s)}return a}})(o.outEdges(t).map(t=>o.node(t.w).rank-o.edge(t).delta));void 0!==t&&(e.rank=t)}(o=r).edges().forEach(t=>{o.edge(t).temp&&s(t.w)}),n.nodes().forEach(t=>{n.node(t)||n.setNode(t,{})}),r.nodes().forEach(t=>{let e=r.node(t);e.nodes.forEach(t=>{n.node(t).rank=e.rank})})}}function md(t){let c=hd(),f=jr(t),l=[],d=[],h=null;function e(t=[],e=[],r={}){let n=((t=[],e=[])=>{let r=new id.Graph({directed:!0,multigraph:!0});return e.forEach(t=>{r.setEdge(t.source,t.target,{data:t,points:[]},t.type)}),r.nodes().forEach(t=>r.setNode(t,{data:{}})),t.forEach(t=>{r.hasNode(t.id)&&void 0!==(r.node(t.id).data=t).direction&&(r.node(t.id).direction=t.direction)}),r.edges().forEach(t=>{r.edge(t).source=r.node(t.v),r.edge(t).target=r.node(t.w)}),r})(e,t);var u,o,a,i,s;return h=r.order?(wd(n,r.rankSets||[]),(h=0<(h=r.order).length&&0<h[0].length&&!p(h[0][0])?h.map(t=>[t]):h).map(t=>t.map(t=>t.filter(t=>void 0!==n.node(t))))):(wd(n,r.rankSets||[]),(u=n).edges().forEach(t=>{var e=u.node(t.v),r=u.node(t.w),n=u.edge(t);let o=e.rank;var i=[];if(o+1<=r.rank){for("l"===e.direction&&i.push(o);++o<r.rank;)i.push(o);"l"===r.direction&&i.push(o),Er(u,t,n,i,"r")}else if(o>r.rank){for("l"!==e.direction&&i.push(o);o-- >r.rank+1;)i.push(o);"l"!==r.direction&&i.push(o),Er(u,t,n,i,"l")}}),ld(n)),l=c(n,h),[i,s]=[n,{alignLinkTypes:r.alignLinkTypes||!1}.alignLinkTypes],i.nodes().forEach(e=>{var r=i.node(e);if(r.incoming=i.inEdges(e),r.outgoing=i.outEdges(e),s){let t=br(i,e);r.incoming.sort(wr(i,t,!1)),r.outgoing.sort(wr(i,t,!0))}else r.incoming.sort(_r(i,!1)),r.outgoing.sort(_r(i,!0))}),d=f(n),(a=n).nodes().filter(t=>t.startsWith("__")).forEach(n=>{let o,i=a.node(n);if(i){let t=(null==(o=a.inEdges(n))?void 0:o.map(t=>a.edge(t)))||[];t.forEach(t=>{t.origLabel.dy=t.dy,t.origLabel.x0=t.x0,t.origLabel.y0=t.y0,t.origLabel.r0=t.r0,t.origLabel.d0=t.d0,t.origLabel.value=t.value,a.setEdge(t.origEdge,t.origLabel)});let e,r=t.map(t=>t.r1);for(;i.dummy;)(t=a.outEdges(n).map(t=>a.edge(t))).forEach((t,e)=>{t.origLabel.points||(t.origLabel.points=[]),t.origLabel.points.push({d:t.d0,r0:t.r0,r1:r[e],x:i.x,y:t.y0})}),r=t.map(t=>t.r1),e=a.successors(n)[0],a.removeNode(n),i=a.node(n=e);t.forEach(t=>{t.origLabel.x1=t.x1,t.origLabel.y1=t.y1,t.origLabel.r1=t.r1,t.origLabel.d1=t.d1})}}),(o=n).edges().forEach(t=>{t=o.edge(t);t.points.unshift({d:t.d0,ro:t.r0,x:t.x0,y:t.y0}),t.points.push({d:t.d1,ri:t.r1,x:t.x1,y:t.y1})}),n}return e.nodes=function(){return l},e.links=function(){return d},e.order=function(){return h},e.size=function(t){return arguments.length?(c.size(t),e):c.size()},e.separation=function(t){return arguments.length?(c.separation(t),e):c.separation()},e.whitespace=function(t){return arguments.length?(c.whitespace(t),e):c.whitespace()},e.edgeValue=function(t){return e},e.scale=function(t){return arguments.length?(c.scale(t),e):c.scale()},e}let jd=["#ACD5FC","#E37816","#07CC80","#0871D4","#CB8E55","#9FAE29","#427565","#6D55A6","#FEF445","#E177C2","#F48B7B","#D74B05","#AA896F","#14A14D","#C5114D"];var xd="[object Number]";let Ed=t=>0===t.dy?0:2;function Od(t){let o=Math.max(Ed(t),t.dy)/2,e=t.x0,r=t.x1,i=t.y0,u=t.y1;r<e&&([e,r]=[r,e],[i,u]=[u,i]);var n=u>i?1:-1,a=(a=t.x1-t.x0,s=t.y1-t.y0,[t.dy/2,(a*a+s*s)/Math.abs(4*s)]),s=Math.max(a[0],Math.min(a[1],(r-e)/3));let c=Math.max(a[0],Math.min(a[1],t.r0||s)),f=Math.max(a[0],Math.min(a[1],t.r1||s));var a=r-e,t=u-i-n*(c+f),s=Math.sqrt(a*a+t*t),s=-n*Math.acos(Math.min(1,(c+f)/s)),t=Math.atan2(t,a);let l=Math.PI/2+n*(t+s),d=o*n*Math.sin(l),h=o*Math.cos(l),p=e+ +c*Math.sin(Math.abs(l)),v=r-+f*Math.sin(Math.abs(l)),g=i+c*n*(1-Math.cos(l)),y=u-f*n*(1-Math.cos(l));function b(t,e){var r=0<t*(u-i)?1:0;let n=0<+t*(u-i)?e+o:e-o;return`A${n=0===l?e:n} ${n} ${Math.abs(l)} 0 ${r} `}return(("number"==typeof(a=l)||w(a)&&_(a)==xd)&&a!=+a||Math.abs(l)<.001)&&(l=0,c=0,f=0,p=e,v=r,g=i,y=u,d=0,h=o),`M${[e,i-o]} ${b(1,c)}${[p+d,g-h]} L${[v+d,y-h]} ${b(-1,f)}${[r,u-o]} L${[r,u+o]} ${b(1,f)}${[v-d,y+h]} L${[p-d,g+h]} ${b(-1,c)}${[e,i+o]} Z`}let kd=(t,e)=>{t=void 0!==t.title?t.title:t.id;return e&&t.length>e?t.substr(0,15)+"...":t};function Ad(r,{fontColor:t,maxRank:n,nodeWidth:e}){let o=r.data,i=(()=>{let t=!1,e=!1;return r.rank<n/2&&(e=!0,t=!1),{right:e,top:t}})(),{x:u,y:a}=(d=r,h=i.top?-25:d.dy/2-10,e=i.top?i.right?4:-4:i.right?10+e/2:-e/2-10,{x:d.x+e,y:d.y+h}),s=([e="",{fontColor:d="#666767",pointerEvents:h,textAnchor:t,x:c,y:f}]=[kd(o,i.top?25:15),{fontColor:t,pointerEvents:"none",textAnchor:i.top?"middle":i.right?"start":"end",x:u,y:a}],(l=new E.Text).font({fill:d}),l.tspan(e),void 0!==c&&void 0!==f&&l.move(c,f),l.attr({"pointer-events":h,"text-anchor":t}),l);var c,f,l,d,h;return s}class Cd extends class{constructor(t,e){this.element=t,this.options=e,this.canvas=E.SVG().addTo(t).size("100%","100%").viewbox(`-${this.spacing} -${this.spacing+this.getYShift()} ${this.width+2*this.spacing} `+(this.height+this.spacing+this.getYShift())).attr({style:this.options.canvasStyle})}getYShift(){return this.options.enableToolbar?30:0}add(t){this.canvas.add(t)}clear(){this.canvas.clear().viewbox(`-${this.spacing} -${this.spacing+this.getYShift()} ${this.width+2*this.spacing} `+(this.height+this.spacing+this.getYShift()))}resetViewBox(){this.canvas.viewbox(`-${this.spacing} -${this.spacing+this.getYShift()} ${this.width+2*this.spacing} `+(this.height+this.spacing+this.getYShift()))}updateViewBox(t,e,r,n){this.canvas.viewbox(t+` ${e} ${r} `+n)}get height(){return this.options.viewPortHeight}get spacing(){return this.options.spacing}get width(){return this.options.viewPortWidth}}{construct(t){var{nodeWidth:e,spacing:r,viewPortHeight:n,viewPortWidth:o}=this.options,i=md({nodeWidth:e}),o=(i.size([o-e,n-r]),t.nodes.map((t,e)=>{e%=jd.length;return{...t,color:t.color??jd[e],colorIndex:e}})),e=i(t.edges,o,t.options);this.maxRank=i.order().length-1,this.graph=e}render({keepOldPosition:t=!1}={}){let e,r,{enableTooltip:n,fontColor:o,fontFamily:i,fontSize:u,fontWeight:a,nodeBorderColor:s,nodeBorderWidth:c,nodeWidth:f,onNodeClick:l,tooltipId:d}=this.options,h=this.canvas.viewbox();this.clear();var p=dt({color:o,fontFamily:i,fontSize:u,fontWeight:a}),v=ht(f/2,0);v.attr("style",p);let g=(null==(e=this.graph)?void 0:e.nodes())||[],y=(null==(r=this.graph)?void 0:r.edges())||[],b=ht(),_=(y.forEach(t=>{this.renderEdge(t,b)}),v.add(b),ht());if(g.forEach(t=>{var t=this.graph.node(t);t.dummy||(t=((e,r,t)=>{let n,o,{dy:i,x:u,y:a}=e,{fontColor:s,fontSize:c,nodeBorderColor:f,nodeBorderWidth:l,nodeWidth:d,onNodeClick:h}=t,p=new E.G({class:"node"}),v=([{borderColor:t="#caced0",color:g="#97cbe6",height:y=0,opacity:b=1,radius:_=0,width:w=0,x:m,y:j=0}]=[{height:i,width:d,x:u-d/2,y:a}],(x=new E.Rect).attr({height:y,opacity:b,rx:_,ry:_,width:w,x:m,y:j}),x.fill(g),x.stroke({color:t,width:1}),x);var g,y,b,_,w,m,j,x;if(v.fill(null==(n=e.data)?void 0:n.color),v.stroke({color:f??(null==(o=e.data)?void 0:o.color),width:l}),v.on("click",()=>{"function"==typeof h&&h(e)}),p.add(v),e.data&&i>Number.parseInt(c,10)){let t=Ad(e,{fontColor:s,maxRank:r,nodeWidth:d});p.add(t)}return p})(t,this.maxRank,{fontColor:o,fontSize:u,nodeBorderColor:s,nodeBorderWidth:c,nodeWidth:f,onNodeClick:l}),_.add(t))}),v.add(_),this.add(v),t&&this.updateViewBox(h.x,h.y,h.width,h.height),n){[p="apex-tooltip-container"]=[d],(v=document.getElementById(p)||document.createElement("div")).id=p;let t=v;(document.body||document.getElementsByTagName("body")[0]).append(t)}}renderEdge(t,e){let{edgeGradientFill:r,edgeOpacity:o,enableTooltip:n,fontColor:i,fontFamily:u,fontSize:a,fontWeight:s,nodeWidth:c,tooltipBGColor:f,tooltipBorderColor:l,tooltipId:d,tooltipTemplate:h}=this.options,p=this.graph.edge(t.v,t.w,t.name),v=this.graph.node(t.v),g=this.graph.node(t.w),y=p.source,b=p.target;v.dummy&&(p.x0-=c/2),g.dummy&&(p.x1+=c/2);var _=((t,{edgeColor:e,id:r,opacity:n=1})=>((t=new E.Path({d:t})).id(r),t.fill(e).opacity(n),t))((e=>{var t,r;if(1===(null==(t=e.points)?void 0:t.length))return r=(t=e).points[0],t=Math.max(Ed(t),t.dy)/2,"down-right"===r.style?`M${[r.x-20,r.y-t]} L${[r.x,r.y-t]} L${[r.x,r.y+t]} L${[r.x-20,r.y+t]} Z`:"right-down"===r.style?`M${[r.x,r.y-t]} L${[r.x+20,r.y-t]} L${[r.x+20,r.y+t]} L${[r.x,r.y+t]} Z`:null;let n,o="";for(let t=0;t<e.points.length-1;++t)n={d0:e.points[t].d,d1:e.points[t+1].d,dy:e.dy,r0:e.points[t].ro,r1:e.points[t+1].ri,x0:e.points[t].x,x1:e.points[t+1].x,y0:e.points[t].y,y1:e.points[t+1].y},o+=Od(n);return o})(p),{edgeColor:this.canvas.gradient("linear",t=>{var e;t.stop(0,null==(e=y.data)?void 0:e.color),t.stop(1,r?null==(e=b.data)?void 0:e.color:null==(t=y.data)?void 0:t.color)}),id:t.v+"-"+t.w,opacity:o});if(n&&y.data&&b.data){let n=h?h({source:{...y.data,value:y.value},target:{...b.data,value:b.value},value:p.value}):null;_.on("mousemove",t=>{var e=dt({color:i,fontFamily:u,fontSize:a,fontWeight:s}),r=(({bgColor:t,borderColor:e,maxWidth:r,padding:n,x:o,y:i})=>{o=["position: absolute;",`left: ${o+20}px;`,`top: ${i+20}px;`,`border: 1px solid ${e};`,"border-radius: 5px;"];return t&&o.push(`background-color: ${t};`),r&&o.push(`max-width: ${r}px`),void 0!==n&&o.push(`padding: ${n}px`),o.join(" ")})({bgColor:f,borderColor:l,x:t.pageX,y:t.pageY});null!=(t=E.SVG(`[id="${t.target.id}"]`))&&t.front().opacity(1),lt(d,r+e,n)}),_.on("mouseout",t=>{lt(d),null!=(t=E.SVG(`[id="${t.target.id}"]`))&&t.front().opacity(o)})}e.add(_)}}let Md={canvasStyle:"border: 1px solid #caced0; box-sizing: border-box",edgeGradientFill:!0,edgeOpacity:.4,enableToolbar:!0,enableTooltip:!0,fontColor:"#212121",fontFamily:"",fontSize:"14px",fontWeight:"400",height:"auto",nodeBorderColor:null,nodeBorderWidth:1,nodeWidth:20,onNodeClick:void 0,spacing:20,tooltipBGColor:"#FFFFFF",tooltipBorderColor:"#BCBCBC",tooltipId:"apexsankey-tooltip-container",tooltipTemplate:({source:t,target:e,value:r})=>`
      <div style='display:flex;align-items:center;gap:5px;padding:5px 10px;'>
        <div style='width:12px;height:12px;background-color:${t.color}'></div>
        <div>${t.title}</div>
        <div>=></div>
        <div style='width:12px;height:12px;background-color:${e.color}'></div>
        <div>${e.title}</div>
        <div>: ${r}</div> 
      </div>
    `,viewPortHeight:500,viewPortWidth:800,width:"100%"};return class{constructor(t,e){this.element=t,this.options=e,this.options={...Md,...e};var{height:t,width:e}=this.options;this.graph=new Cd(this.element,this.options);let r=!1,n=0;"string"==typeof e&&/^\d+(\.\d+)?%$/.test(e)?(n=Number(e.substring(0,e.length-1)),r=!0):n=Number(e);e="auto"===t?n/1.6:t;this.element.style.width=""+n+(r?"%":"px"),this.element.style.height=""+e+(r?"%":"px"),this.element.style.position="relative"}render(t){if(this.element)return this.graph.construct(t),this.graph.render(),this.options.enableToolbar&&new gt(this.element,this.graph.canvas,"apex-sankey").render({enableExport:!0}),this.graph;throw new Error("Element not found")}}});